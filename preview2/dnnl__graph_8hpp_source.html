<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>oneDNN Graph: include/oneapi/dnnl/dnnl_graph.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script src="assets/mathjax/MathJax.js?config=TeX-AMS_CHTML,dnnl"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="assets/customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="assets/dnn.js"></script>
</head>
<body>
<div class="mobile-nav"><i id="nav-btn"></i><a href="index.html">oneAPI Deep Neural Network Library Graph API (oneDNN Graph)</a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname">
     <a href="index.html">
      <div id="full-name">oneAPI Deep Neural Network Library Graph API (oneDNN Graph)</div>
    </a>
   </div>
   <div id="projectbrief">Performance Library for DNN Graph Optimization</div>
   <div id="projectnumber">0.2.0</div>
  <div>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dnnl__graph_8hpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">dnnl_graph.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">* Copyright 2020-2021 Intel Corporation</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">* you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">* You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">*     http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">* Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">* distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">* See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">* limitations under the License.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">*******************************************************************************/</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#ifndef ONEAPI_DNNL_DNNL_GRAPH_HPP</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#define ONEAPI_DNNL_DNNL_GRAPH_HPP</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dnnl__graph_8h.html">oneapi/dnnl/dnnl_graph.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dnnl__graph__base_8hpp.html">oneapi/dnnl/dnnl_graph_base.hpp</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dnnl__graph__detail_8hpp.html">oneapi/dnnl/dnnl_graph_detail.hpp</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">namespace </span>dnnl {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">namespace </span>graph {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1allocator.html">   45</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1allocator.html">allocator</a> : <span class="keyword">public</span> detail::allocator_handle {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keyword">using</span> detail::allocator_handle::handle;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1allocator.html#ab8f0d515beac506375e58950337e6d1a">   50</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structdnnl__graph__allocator__attr__t.html">attribute</a> = <a class="code" href="structdnnl__graph__allocator__attr__t.html">dnnl_graph_allocator_attr_t</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1allocator.html#ad9d6519838db5fb679d8f9c1ca81c04c">   53</a></span>&#160;    <span class="keyword">enum class</span> <a class="code" href="classdnnl_1_1graph_1_1allocator.html#ad9d6519838db5fb679d8f9c1ca81c04c">lifetime</a> {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        persistent = <a class="code" href="group__dnnl__graph__api__allocator.html#gga18cd0fb99e3b6ee500c849b6a100c0bca2ca76fa5b624d7bd8ee46cc3e55c9025">dnnl_graph_allocator_persistent</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        output = <a class="code" href="group__dnnl__graph__api__allocator.html#gga18cd0fb99e3b6ee500c849b6a100c0bcad601a8af8f748bb61303497cbb6b3695">dnnl_graph_allocator_output</a>,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        temp = <a class="code" href="group__dnnl__graph__api__allocator.html#gga18cd0fb99e3b6ee500c849b6a100c0bcad4428fbadc84a44b8df22a8bd6124bbd">dnnl_graph_allocator_temp</a>,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    };</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1allocator.html#a0fc5129434dd74f688ae45fb7027ea1c">   63</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1allocator.html#a0fc5129434dd74f688ae45fb7027ea1c">allocator</a>(<a class="code" href="group__dnnl__graph__api__allocator.html#ga277acb678a29f8abc514e9e30b980e05">dnnl_graph_cpu_allocate_f</a> cpu_malloc,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <a class="code" href="group__dnnl__graph__api__allocator.html#ga9fa70343fd7b61f3d61b6ee50019554c">dnnl_graph_cpu_deallocate_f</a> cpu_free) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        dnnl_graph_allocator_t *a {};</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                <a class="code" href="group__dnnl__graph__api__allocator.html#ga72814446b3a0791919fc922ab5b84325">dnnl_graph_allocator_create</a>(&amp;a, cpu_malloc, cpu_free),</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <span class="stringliteral">&quot;could not create allocator for cpu&quot;</span>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        reset(a);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1allocator.html#a0df3aa313d3d7699ab8a3ee687800dd8">   73</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1allocator.html#a0df3aa313d3d7699ab8a3ee687800dd8">allocator</a>() {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        dnnl_graph_allocator_t *a {};</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__allocator.html#ga72814446b3a0791919fc922ab5b84325">dnnl_graph_allocator_create</a>(&amp;a, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>),</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                <span class="stringliteral">&quot;could not create allocator&quot;</span>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        reset(a);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__dnnl__graph__api__allocator.html#ga18cd0fb99e3b6ee500c849b6a100c0bc">dnnl_graph_allocator_lifetime_t</a> convert_to_c(<a class="code" href="classdnnl_1_1graph_1_1allocator.html#ad9d6519838db5fb679d8f9c1ca81c04c">lifetime</a> type) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="group__dnnl__graph__api__allocator.html#ga18cd0fb99e3b6ee500c849b6a100c0bc">dnnl_graph_allocator_lifetime_t</a><span class="keyword">&gt;</span>(type);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;};</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1engine.html">   97</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1engine.html">engine</a> : <span class="keyword">public</span> detail::engine_handle {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">using</span> detail::engine_handle::handle;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">  102</a></span>&#160;    <span class="keyword">enum class</span> <a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">kind</a> {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40ea100b8cad7cf2a56f6df78f171f97a1ec">any</a> = <a class="code" href="group__dnnl__graph__api__engine.html#gga6ac1ba87052e33099253f1d21ddd0091aff42259487fbd9ac2cc2ce24863e155b">dnnl_graph_any_engine</a>,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40ead9747e2da342bdb995f6389533ad1a3d">cpu</a> = <a class="code" href="group__dnnl__graph__api__engine.html#gga6ac1ba87052e33099253f1d21ddd0091af9de6f7a0034724c80b8e82e294407bf">dnnl_graph_cpu</a>,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40ea0aa0be2a866411d9ff03515227454947">gpu</a> = <a class="code" href="group__dnnl__graph__api__engine.html#gga6ac1ba87052e33099253f1d21ddd0091a0e4015e41880cfeee945c30cbf346da2">dnnl_graph_gpu</a>,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    };</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1engine.html#a739f9edfe9dbebd1dee1b2d35e5250d7">  115</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1engine.html#a739f9edfe9dbebd1dee1b2d35e5250d7">engine</a>(<a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">kind</a> akind, <span class="keywordtype">int</span> device_id) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        dnnl_graph_engine_t *e {};</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <a class="code" href="group__dnnl__graph__api__engine.html#gaffbc76b0e5aaa1683475940224c7da2b">dnnl_graph_engine_create</a>(&amp;e, convert_to_c(akind), device_id),</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <span class="stringliteral">&quot;could not create engine with engine kind and device id&quot;</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        reset(e);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1engine.html#a8366f7d043eca29e3bdcd8b4d1bb675b">  128</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1engine.html#a8366f7d043eca29e3bdcd8b4d1bb675b">engine</a>(<a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">kind</a> akind, <span class="keywordtype">int</span> device_id, <a class="code" href="classdnnl_1_1graph_1_1allocator.html">allocator</a> &amp;alloc) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        dnnl_graph_engine_t *e {};</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <a class="code" href="group__dnnl__graph__api__engine.html#gaffbc76b0e5aaa1683475940224c7da2b">dnnl_graph_engine_create</a>(&amp;e, convert_to_c(akind), device_id),</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="stringliteral">&quot;could not create engine with engine kind and device id&quot;</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        reset(e);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1engine.html#a1c36940a4221f1f66248c958999ad14a">set_allocator</a>(alloc);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1engine.html#a1c36940a4221f1f66248c958999ad14a">  141</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdnnl_1_1graph_1_1engine.html#a1c36940a4221f1f66248c958999ad14a">set_allocator</a>(<a class="code" href="classdnnl_1_1graph_1_1allocator.html">allocator</a> &amp;alloc) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <a class="code" href="group__dnnl__graph__api__engine.html#gae62032eb1c9997864d209de1023e2edd">dnnl_graph_engine_set_allocator</a>(get(), alloc.get()),</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <span class="stringliteral">&quot;could not set allocator to the engine&quot;</span>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1engine.html#a9774565193c70104b45b7d6ee694ed12">  150</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="classdnnl_1_1graph_1_1engine.html#a9774565193c70104b45b7d6ee694ed12">get_device_handle</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordtype">void</span> *handle {};</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <a class="code" href="group__dnnl__graph__api__engine.html#gaa9db58080cc78dfcdd6a2035d2c61ee8">dnnl_graph_engine_get_device_handle</a>(get(), &amp;handle),</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="stringliteral">&quot;could not get device handle from the engine&quot;</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">return</span> handle;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1engine.html#ab700c5b9a252cd78014eecb57a4e0e3d">  161</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classdnnl_1_1graph_1_1engine.html#ab700c5b9a252cd78014eecb57a4e0e3d">get_device_id</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        int32_t device_id {};</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__engine.html#ga8bb42d5dda3d588495b9840d7eb22da8">dnnl_graph_engine_get_device_id</a>(get(), &amp;device_id),</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <span class="stringliteral">&quot;could not get device id from the engine&quot;</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span> device_id;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1engine.html#a5e793e1abf748a0508831161f913713d">  171</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">kind</a> <a class="code" href="classdnnl_1_1graph_1_1engine.html#a5e793e1abf748a0508831161f913713d">get_kind</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="group__dnnl__graph__api__engine.html#ga6ac1ba87052e33099253f1d21ddd0091">dnnl_graph_engine_kind_t</a> akind;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__engine.html#ga339ce372201b42af24841d1a3c809a40">dnnl_graph_engine_get_kind</a>(get(), &amp;akind),</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <span class="stringliteral">&quot;could not get engine kind from the engine&quot;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">kind</a><span class="keyword">&gt;</span>(akind);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__dnnl__graph__api__engine.html#ga6ac1ba87052e33099253f1d21ddd0091">dnnl_graph_engine_kind_t</a> convert_to_c(<a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">kind</a> akind) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="group__dnnl__graph__api__engine.html#ga6ac1ba87052e33099253f1d21ddd0091">dnnl_graph_engine_kind_t</a><span class="keyword">&gt;</span>(akind);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;};</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1thread__pool.html">  190</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1thread__pool.html">thread_pool</a> : <span class="keyword">public</span> detail::thread_pool_handle {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1thread__pool.html#a12043d4d9e5201289ec915708f1b70eb">  195</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1thread__pool.html#a12043d4d9e5201289ec915708f1b70eb">thread_pool</a>(int32_t num_threads) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        dnnl_graph_thread_pool_t *tp {};</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__threadpool.html#gac2cc6dff277b8d75220e43f14cd24984">dnnl_graph_thread_pool_create</a>(&amp;tp, num_threads),</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                <span class="stringliteral">&quot;could not create thread pool&quot;</span>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        reset(tp);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    };</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;};</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="keyword">class </span>stream_attr : <span class="keyword">public</span> detail::stream_attr_handle {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    stream_attr(thread_pool &amp;pool) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        dnnl_graph_stream_attr_t *sa {};</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__stream__attr.html#gad4abeb75154dc5cf5681783a30a4ea79">dnnl_graph_stream_attr_create</a>(&amp;sa, pool.get()),</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <span class="stringliteral">&quot;could not create stream attributes&quot;</span>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        reset(sa);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    };</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    thread_pool get_thread_pool();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;};</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1stream.html">  239</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1stream.html">stream</a> : <span class="keyword">public</span> detail::stream_handle {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keyword">using</span> detail::stream_handle::handle;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1stream.html#a13a5aef2739b3336231457a84b9ffe34">  247</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1stream.html#a13a5aef2739b3336231457a84b9ffe34">stream</a>(<a class="code" href="classdnnl_1_1graph_1_1engine.html">engine</a> &amp;<a class="code" href="classdnnl_1_1graph_1_1engine.html">engine</a>, <span class="keyword">const</span> stream_attr *attr = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        dnnl_graph_stream_t *s {};</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                [&amp;] {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    <span class="keywordflow">if</span> (attr) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="group__dnnl__graph__api__stream.html#ga4a26dba04ce46f20a94f0fd54f5d0988">dnnl_graph_stream_create_with_attr</a>(</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                &amp;s, <a class="code" href="classdnnl_1_1graph_1_1engine.html">engine</a>.get(), attr-&gt;get());</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    };</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__dnnl__graph__api__stream.html#ga9c7b4e3da3ff11defad596b68a389d6a">dnnl_graph_stream_create</a>(&amp;s, <a class="code" href="classdnnl_1_1graph_1_1engine.html">engine</a>.get());</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                }(),</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="stringliteral">&quot;could not create stream&quot;</span>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        reset(s);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1stream.html#ab7d60e18bc09a7666c6febd47d9186a8">  263</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1stream.html">stream</a> &amp;<a class="code" href="classdnnl_1_1graph_1_1stream.html#ab7d60e18bc09a7666c6febd47d9186a8">wait</a>() {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <a class="code" href="group__dnnl__graph__api__stream.html#ga487693400b4ececd3041bc44c1b3a3cb">dnnl_graph_stream_wait</a>(get()), <span class="stringliteral">&quot;could not wait on a stream&quot;</span>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;};</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html">  290</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1op.html">op</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1tensor.html">tensor</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1partition.html">partition</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html">compiled_partition</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="structdnnl__graph__logical__tensor__t.html">dnnl_graph_logical_tensor_t</a> data;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keyword">using</span> dims_t = std::vector&lt;dnnl_graph_dim_t&gt;;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227">  302</a></span>&#160;    <span class="keyword">enum class</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227">data_type</a> {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        undef = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128ba56653443253e9e1818b3c95dd917b764">dnnl_graph_data_type_undef</a>,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227aa2449b6477c1fef79be4202906486876">f16</a> = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128baf69804068556c6569c4e03cc9a9195f0">dnnl_graph_f16</a>,</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227afe2904d9fb3b0f4a81c92b03dec11424">bf16</a> = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128ba90b450c93fb29b19d97865322b5da00e">dnnl_graph_bf16</a>,</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227a512dc597be7ae761876315165dc8bd2e">f32</a> = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128ba62ac0f4fac4045316db2f725944e6c61">dnnl_graph_f32</a>,</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227aa860868d23f3a68323a2e3f6563d7f31">s32</a> = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128ba79564522e8d6d0d51a23e23186c6afff">dnnl_graph_s32</a>,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227a3e8d88fdd85d7153525e0647cdd97686">s8</a> = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128baa05215fe67e0905f6d4077f8241f8121">dnnl_graph_s8</a>,</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227a077393852be20e37026d6281827662f2">u8</a> = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128ba227e76d5f17ab7f119a2df6c6f1a970d">dnnl_graph_u8</a>,</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    };</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867">  319</a></span>&#160;    <span class="keyword">enum class</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867">layout_type</a> {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867af31ee5e3824f1f5e5d206bdf3029f22b">undef</a> = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#gga5b552d8a81835eb955253410bf012694a77482f385c4f7969285a99a06a3f3637">dnnl_graph_layout_type_undef</a>,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867a100b8cad7cf2a56f6df78f171f97a1ec">any</a> = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#gga5b552d8a81835eb955253410bf012694afc5178ef75924c4f130c70cf7b223203">dnnl_graph_layout_type_any</a>,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867a67a4043caf23a1d1393e5740873578bd">strided</a> = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#gga5b552d8a81835eb955253410bf012694aa9ea14026cc47aafffdcb92c00a1b1ea">dnnl_graph_layout_type_strided</a>,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867a94619f8a70068b2591c2eed622525b0e">opaque</a> = <a class="code" href="group__dnnl__graph__api__logical__tensor.html#gga5b552d8a81835eb955253410bf012694a214016e723853d6d9d753871cd5f25b7">dnnl_graph_layout_type_opaque</a>,</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    };</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#a01cec4c5633637fb344d03e5547f9945">  334</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#a01cec4c5633637fb344d03e5547f9945">logical_tensor</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#a8557c46e004ed95249688ccc1e29fdc6">  337</a></span>&#160;    <span class="keyword">explicit</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#a8557c46e004ed95249688ccc1e29fdc6">logical_tensor</a>(<span class="keyword">const</span> <a class="code" href="structdnnl__graph__logical__tensor__t.html">dnnl_graph_logical_tensor_t</a> &amp;c_data)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        : data(c_data) {}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#ad9e3190a8cbabfcdbfae558284711208">  341</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad9e3190a8cbabfcdbfae558284711208">logical_tensor</a>(<span class="keyword">const</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &amp;other) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#afbb1d508c701fd9d09409e0dae4e67e2">  344</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &amp;<a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#afbb1d508c701fd9d09409e0dae4e67e2">operator=</a>(<span class="keyword">const</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &amp;other) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#ab5f9ec2883715a4f033797ec25e9a319">  352</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ab5f9ec2883715a4f033797ec25e9a319">logical_tensor</a>(</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordtype">size_t</span> tid, <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227">data_type</a> dtype, int32_t ndims, <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867">layout_type</a> ltype) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="structdnnl__graph__logical__tensor__t.html">dnnl_graph_logical_tensor_t</a> val;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ga61c0ba0636701ba23ce3661020037205">dnnl_graph_logical_tensor_init</a>(&amp;val, tid, convert_to_c(dtype),</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                        ndims, convert_to_c(ltype)),</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                <span class="stringliteral">&quot;could not create logical_tensor&quot;</span>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        data = val;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#a65a85083e3ef174e1353ad7a9b4ecc65">  367</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#a65a85083e3ef174e1353ad7a9b4ecc65">logical_tensor</a>(</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordtype">size_t</span> tid, <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227">data_type</a> dtype, <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867">layout_type</a> ltype = <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867af31ee5e3824f1f5e5d206bdf3029f22b">layout_type::undef</a>)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        : <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a>(tid, dtype, <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ga49497533d28f67dc4cce08fe210bf4bf">DNNL_GRAPH_UNKNOWN_NDIMS</a>, ltype) {}</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#a16293ad2f9c69e572a693183273abbf8">  378</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#a16293ad2f9c69e572a693183273abbf8">logical_tensor</a>(<span class="keywordtype">size_t</span> tid, <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227">data_type</a> dtype, <span class="keyword">const</span> dims_t &amp;adims,</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867">layout_type</a> ltype) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="structdnnl__graph__logical__tensor__t.html">dnnl_graph_logical_tensor_t</a> val;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="comment">// if dimension size equals to 0, it&#39;s a scalar</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">if</span> (adims.size() == 0)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ga61c0ba0636701ba23ce3661020037205">dnnl_graph_logical_tensor_init</a>(&amp;val, tid,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                            convert_to_c(dtype), 0, convert_to_c(ltype)),</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    <span class="stringliteral">&quot;could not create logical_tensor&quot;</span>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__logical__tensor.html#ga2604747d72957b0d15d49b09d8b20f60">dnnl_graph_logical_tensor_init_with_dims</a>(&amp;val,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                         tid, convert_to_c(dtype),</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                         <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(adims.size()),</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                         adims.data(), convert_to_c(ltype)),</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    <span class="stringliteral">&quot;could not create logical_tensor with dims&quot;</span>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        data = val;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#a1145a0d922405a0c465f6957ac40c50e">  404</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#a1145a0d922405a0c465f6957ac40c50e">logical_tensor</a>(<span class="keywordtype">size_t</span> tid, <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227">data_type</a> dtype, <span class="keyword">const</span> dims_t &amp;adims,</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keyword">const</span> dims_t &amp;strides) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="structdnnl__graph__logical__tensor__t.html">dnnl_graph_logical_tensor_t</a> val;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="comment">// TODO(lvtao): check the size of adims and strides.</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="comment">// They should be same.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ga6a6391d8da643e1024e9c106f46f187f">dnnl_graph_logical_tensor_init_with_strides</a>(&amp;val, tid,</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                        convert_to_c(dtype), <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(adims.size()),</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                        adims.data(), strides.data()),</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="stringliteral">&quot;could not create logical_tensor with strides&quot;</span>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        data = val;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#ae23ae4e4d8341ba872f1354457123667">  425</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ae23ae4e4d8341ba872f1354457123667">logical_tensor</a>(</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="keywordtype">size_t</span> tid, <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227">data_type</a> dtype, <span class="keyword">const</span> dims_t &amp;adims, int64_t lid) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <a class="code" href="structdnnl__graph__logical__tensor__t.html">dnnl_graph_logical_tensor_t</a> val;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">if</span> (adims.size() == 0) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__logical__tensor.html#ga61c0ba0636701ba23ce3661020037205">dnnl_graph_logical_tensor_init</a>(&amp;val, tid,</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                         convert_to_c(dtype), 0,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                                         convert_to_c(<a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867a94619f8a70068b2591c2eed622525b0e">layout_type::opaque</a>)),</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    <span class="stringliteral">&quot;could not create logical_tensor&quot;</span>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ga2604747d72957b0d15d49b09d8b20f60">dnnl_graph_logical_tensor_init_with_dims</a>(&amp;val, tid,</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                            convert_to_c(dtype),</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                            <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(adims.size()), adims.data(),</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                            convert_to_c(<a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867a94619f8a70068b2591c2eed622525b0e">layout_type::opaque</a>)),</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    <span class="stringliteral">&quot;could not create logical_tensor with dims&quot;</span>);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        val.layout.<a class="code" href="structdnnl__graph__logical__tensor__t.html#af34771bd93bbd3ff1f40a5b3ac60b109">layout_id</a> = lid;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        data = val;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#a925058b843b57b8ba8dc9785a38b932b">  450</a></span>&#160;    dims_t <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#a925058b843b57b8ba8dc9785a38b932b">get_dims</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> {data.<a class="code" href="structdnnl__graph__logical__tensor__t.html#a1bbfabf5b9f46920c4392e45a8e74df3">dims</a>, data.<a class="code" href="structdnnl__graph__logical__tensor__t.html#a1bbfabf5b9f46920c4392e45a8e74df3">dims</a> + data.<a class="code" href="structdnnl__graph__logical__tensor__t.html#a37a78e06b8b94559db6a33f5b159f5d2">ndims</a>}; }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#a29439e81366ba8db75180dc8c975d1ca">  455</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#a29439e81366ba8db75180dc8c975d1ca">get_id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> data.<a class="code" href="structdnnl__graph__logical__tensor__t.html#a35ea59fc96c5ac3bdab66f9cc8a43b14">id</a>; }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#aaea19b3ce4512e5f2e1d0c68d9f0677f">  460</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227">data_type</a> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#aaea19b3ce4512e5f2e1d0c68d9f0677f">get_data_type</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227">data_type</a><span class="keyword">&gt;</span>(data.<a class="code" href="structdnnl__graph__logical__tensor__t.html#a660e336ecc3a5ff64c82723b9ea44c9b">data_type</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#adf186c42eb7e4718f4985845a1101ac5">  467</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867">layout_type</a> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#adf186c42eb7e4718f4985845a1101ac5">get_layout_type</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867">layout_type</a><span class="keyword">&gt;</span>(data.<a class="code" href="structdnnl__graph__logical__tensor__t.html#a5e8dd6031f49c19cc2920e26c08f3be9">layout_type</a>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#ac704ec2076718dc5c16377dc71f2598a">  474</a></span>&#160;    int64_t <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ac704ec2076718dc5c16377dc71f2598a">get_layout_id</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#adf186c42eb7e4718f4985845a1101ac5">get_layout_type</a>() != <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867a94619f8a70068b2591c2eed622525b0e">layout_type::opaque</a>) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__utils.html#gga9921e7e7d35d4eb62f1acbb55a639c0dad98de981a777409afd159ea1537900a5">dnnl_graph_result_error_invalid_argument</a>,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    <span class="stringliteral">&quot;layout type should be opaque&quot;</span>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">return</span> data.layout.<a class="code" href="structdnnl__graph__logical__tensor__t.html#af34771bd93bbd3ff1f40a5b3ac60b109">layout_id</a>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#a9be917e282595dcb6b63ef5c7e695cdb">  486</a></span>&#160;    dims_t <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#a9be917e282595dcb6b63ef5c7e695cdb">get_strides</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#adf186c42eb7e4718f4985845a1101ac5">get_layout_type</a>() != <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867a67a4043caf23a1d1393e5740873578bd">layout_type::strided</a>) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__utils.html#gga9921e7e7d35d4eb62f1acbb55a639c0dad98de981a777409afd159ea1537900a5">dnnl_graph_result_error_invalid_argument</a>,</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                    <span class="stringliteral">&quot;layout type should be strided&quot;</span>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordflow">return</span> {data.layout.<a class="code" href="structdnnl__graph__logical__tensor__t.html#a26530b8801400b039fa1a806a210a065">strides</a>, data.layout.<a class="code" href="structdnnl__graph__logical__tensor__t.html#a26530b8801400b039fa1a806a210a065">strides</a> + data.<a class="code" href="structdnnl__graph__logical__tensor__t.html#a37a78e06b8b94559db6a33f5b159f5d2">ndims</a>};</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#a12b73d1201259d4260de5603f62c7f15">  498</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#a12b73d1201259d4260de5603f62c7f15">get_mem_size</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordtype">size_t</span> size = 0;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <a class="code" href="group__dnnl__graph__api__logical__tensor.html#gada423dbef06b45e904dc91951094e252">dnnl_graph_logical_tensor_get_mem_size</a>(&amp;data, &amp;size),</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="stringliteral">&quot;could not get memory size from the logical_tensor&quot;</span>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">return</span> size;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1logical__tensor.html#a121c83f0830fbc0ebf35c29b989a97b1">  511</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html#a121c83f0830fbc0ebf35c29b989a97b1">has_same_layout</a>(<span class="keyword">const</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &amp;lt)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        uint8_t is_same {0};</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__logical__tensor.html#gad56c86e048f01af22b2f576424a26960">dnnl_graph_logical_tensor_has_same_layout</a>(</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                                     &amp;data, &amp;lt.data, &amp;is_same),</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="stringliteral">&quot;could not compare the layout between these logical tensors&quot;</span>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(is_same);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__dnnl__graph__api__logical__tensor.html#gaad147cf0f6df4b97b1c4a55b5595128b">dnnl_graph_data_type_t</a> convert_to_c(data_type dtype) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="group__dnnl__graph__api__logical__tensor.html#gaad147cf0f6df4b97b1c4a55b5595128b">dnnl_graph_data_type_t</a><span class="keyword">&gt;</span>(dtype);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keyword">static</span> <a class="code" href="group__dnnl__graph__api__logical__tensor.html#ga5b552d8a81835eb955253410bf012694">dnnl_graph_layout_type_t</a> convert_to_c(layout_type ltype) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="group__dnnl__graph__api__logical__tensor.html#ga5b552d8a81835eb955253410bf012694">dnnl_graph_layout_type_t</a><span class="keyword">&gt;</span>(ltype);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;};</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1tensor.html">  540</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1tensor.html">tensor</a> : <span class="keyword">public</span> detail::tensor_handle {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keyword">using</span> dims_t = std::vector&lt;dnnl_graph_dim_t&gt;;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1tensor.html#a73b101ca2e1c7766b170f611041acbb0">  545</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1tensor.html#a73b101ca2e1c7766b170f611041acbb0">tensor</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1tensor.html#abb28bd68904392a996d3b69fb6d1fada">  552</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1tensor.html#abb28bd68904392a996d3b69fb6d1fada">tensor</a>(<span class="keyword">const</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &amp;lt, <span class="keywordtype">void</span> *handle) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        dnnl_graph_tensor_t *t {};</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__tensor.html#gacfd19121e08ad87a25d372b206de8232">dnnl_graph_tensor_create_with_logical_tensor</a>(</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                                     &amp;t, &amp;(lt.data), handle),</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                <span class="stringliteral">&quot;could not create tensor with the logical_tensor&quot;</span>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        reset(t);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1tensor.html#a701b5fb9a6ec68fc00a826ab6a5d87db">  565</a></span>&#160;    <span class="keyword">typename</span> std::add_pointer&lt;T&gt;::type <a class="code" href="classdnnl_1_1graph_1_1tensor.html#a701b5fb9a6ec68fc00a826ab6a5d87db">get_data_handle</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordtype">void</span> *data_handle {};</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__tensor.html#ga37b8d6d2b26f9f7c3fd57f8defad1aaf">dnnl_graph_tensor_get_if_type</a>(</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                     get(), get_data_type&lt;T&gt;(), &amp;data_handle),</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <span class="stringliteral">&quot;could not get data handle from the tensor&quot;</span>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>typename std::add_pointer&lt;T&gt;::type<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                data_handle);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1tensor.html#a5162eaf95542798d834bd8899138166e">  578</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdnnl_1_1graph_1_1tensor.html#a5162eaf95542798d834bd8899138166e">set_data_handle</a>(<span class="keywordtype">void</span> *handle) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__tensor.html#gaf5310ab6e99ea52f23f02278f215fef6">dnnl_graph_tensor_set_data_handle</a>(get(), handle),</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="stringliteral">&quot;setting data handle to the tensor failed&quot;</span>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1tensor.html#aba2680ce08d95a81dbd1d2859a43dee3">  586</a></span>&#160;    int64_t <a class="code" href="classdnnl_1_1graph_1_1tensor.html#aba2680ce08d95a81dbd1d2859a43dee3">get_element_num</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        int64_t num {};</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__tensor.html#ga6f8a4fd97dc9b98fbc8550e35a4460f0">dnnl_graph_tensor_get_element_num</a>(get(), &amp;num),</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="stringliteral">&quot;could not get number of elements in the tensor&quot;</span>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">return</span> num;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;};</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1compiled__partition.html">  605</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html">compiled_partition</a> : <span class="keyword">public</span> detail::compiled_partition_handle {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1compiled__partition.html#a3cf34b8ed11d40de19bac51d2d94ae30">  608</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html#a3cf34b8ed11d40de19bac51d2d94ae30">compiled_partition</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1compiled__partition.html#a177789ae0e975739438937011ca8a378">  611</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html#a177789ae0e975739438937011ca8a378">compiled_partition</a>(dnnl_graph_compiled_partition_t *<a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html">compiled_partition</a>) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        reset(<a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html">compiled_partition</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1compiled__partition.html#a85962826e94cc3cefb3c19c0fadc4e09">  619</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> <a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html#a85962826e94cc3cefb3c19c0fadc4e09">query_logical_tensor</a>(<span class="keywordtype">size_t</span> tid)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <a class="code" href="structdnnl__graph__logical__tensor__t.html">dnnl_graph_logical_tensor_t</a> lt;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__compiled__partition.html#gabb66f2bd97e30ee1578449f4b2f90fe9">dnnl_graph_compiled_partition_query_logical_tensor</a>(</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                                     get(), tid, &amp;lt),</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                <span class="stringliteral">&quot;query logical tensor from compiled_partition failed&quot;</span>);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> {lt};</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1compiled__partition.html#ab80ec9f6a37ddbf7b2636fb35acf74f2">  638</a></span>&#160;    std::vector&lt;std::pair&lt;size_t, size_t&gt;&gt; <a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html#ab80ec9f6a37ddbf7b2636fb35acf74f2">get_inplace_ports</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordtype">size_t</span> num_inplace_pairs = std::numeric_limits&lt;size_t&gt;::max();</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdnnl__graph__inplace__pair__t.html">dnnl_graph_inplace_pair_t</a> *inplace_pairs;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__compiled__partition.html#ga994271650532b79c83e34a9ee6a97cec">dnnl_graph_compiled_partition_get_inplace_ports</a>(</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                                     get(), &amp;num_inplace_pairs, &amp;inplace_pairs),</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <span class="stringliteral">&quot;could not get the in-place pairs from a compiled partition&quot;</span>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordflow">if</span> (num_inplace_pairs == 0) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        std::vector&lt;std::pair&lt;size_t, size_t&gt;&gt; inplace_options;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        inplace_options.reserve(num_inplace_pairs);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; num_inplace_pairs; ++i) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="keyword">const</span> <a class="code" href="structdnnl__graph__inplace__pair__t.html">dnnl_graph_inplace_pair_t</a> *inplace_pair = inplace_pairs + i;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            inplace_options.emplace_back(</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    inplace_pair-&gt;<a class="code" href="structdnnl__graph__inplace__pair__t.html#a84ebe0ca00ced21da42ac13f781acf21">input</a>, inplace_pair-&gt;<a class="code" href="structdnnl__graph__inplace__pair__t.html#ad40d913e7c8e7ce96c328b50fd419c79">output</a>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">return</span> inplace_options;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1compiled__partition.html#a558ed47b3cbc5cc2167001da3faa0339">  661</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html#a558ed47b3cbc5cc2167001da3faa0339">execute</a>(<a class="code" href="classdnnl_1_1graph_1_1stream.html">stream</a> &amp;astream, <span class="keyword">const</span> std::vector&lt;tensor&gt; &amp;inputs,</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <span class="keyword">const</span> std::vector&lt;tensor&gt; &amp;outputs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        std::vector&lt;const dnnl_graph_tensor_t *&gt; c_inputs;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        c_inputs.reserve(inputs.size());</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;in : inputs) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            c_inputs.push_back(in.get());</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        std::vector&lt;const dnnl_graph_tensor_t *&gt; c_outputs;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        c_outputs.reserve(outputs.size());</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;out : outputs) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            c_outputs.push_back(out.get());</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <a class="code" href="group__dnnl__graph__api__compiled__partition.html#ga894a56f124c890241eeb060be09383cf">dnnl_graph_compiled_partition_execute</a>(get(), astream.get(),</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                        <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(c_inputs.size()), c_inputs.data(),</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(c_outputs.size()),</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                        c_outputs.data()),</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="stringliteral">&quot;could not execute the compiled_partition&quot;</span>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;};</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html">  690</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1op.html">op</a> : <span class="keyword">public</span> detail::op_handle {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keyword">enum class</span> kind {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        Abs = kAbs,</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        Add = kAdd,</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        AvgPool = kAvgPool,</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        AvgPoolBackprop = kAvgPoolBackprop,</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        BatchNormInference = kBatchNormInference,</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        BatchNormForwardTraining = kBatchNormForwardTraining,</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        BatchNormTrainingBackprop = kBatchNormTrainingBackprop,</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        BiasAddBackprop = kBiasAddBackprop,</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        Clamp = kClamp,</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        ClampBackprop = kClampBackprop,</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        Concat = kConcat,</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        Convolution = kConvolution,</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        ConvolutionBackpropData = kConvolutionBackpropData,</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        ConvolutionBackpropFilters = kConvolutionBackpropFilters,</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        Divide = kDivide,</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        Elu = kElu,</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        EluBackprop = kEluBackprop,</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        Erf = kErf,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        Exp = kExp,</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        GELU = kGELU,</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        GELUBackprop = kGELUBackprop,</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        HardTanh = kHardTanh,</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        HardTanhBackprop = kHardTanhBackprop,</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        LayerNorm = kLayerNorm,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        LayerNormBackprop = kLayerNormBackprop,</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        Log = kLog,</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        LogSoftmax = kLogSoftmax,</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        LogSoftmaxBackprop = kLogSoftmaxBackprop,</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        MatMul = kMatMul,</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        Maximum = kMaximum,</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        MaxPool = kMaxPool,</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        MaxPoolBackprop = kMaxPoolBackprop,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        Minimum = kMinimum,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        Multiply = kMultiply,</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        Pow = kPow,</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        PowBackprop = kPowBackprop,</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        ReduceSum = kReduceSum,</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        ReLU = kReLU,</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        ReLUBackprop = kReLUBackprop,</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        Reshape = kReshape,</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        Round = kRound,</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        Sigmoid = kSigmoid,</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        SigmoidBackprop = kSigmoidBackprop,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        SoftMax = kSoftMax,</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        SoftMaxBackprop = kSoftMaxBackprop,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        SoftPlus = kSoftPlus,</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        SoftPlusBackprop = kSoftPlusBackprop,</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        Sqrt = kSqrt,</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        SqrtBackprop = kSqrtBackprop,</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        Square = kSquare,</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        Tanh = kTanh,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        TanhBackprop = kTanhBackprop,</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        Wildcard = kWildcard,</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        BiasAdd = kBiasAdd,</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        Interpolate = kInterpolate,</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        Transpose = kTranspose,</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        Index = kIndex,</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        InterpolateBackprop = kInterpolateBackprop,</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        PowBackpropExponent = kPowBackpropExponent,</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        End = kEnd,</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        Quantize = kQuantize,</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        Dequantize = kDequantize,</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        Reorder = kReorder,</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        LastSymbol = kLastSymbol,</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    };</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a6d66ed3c27fc33f6d2727d80957536e0">  765</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1op.html#a6d66ed3c27fc33f6d2727d80957536e0">op</a>(<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>, kind akind, <span class="keyword">const</span> std::string &amp;debug_string) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        dnnl_graph_op_t *<a class="code" href="classdnnl_1_1graph_1_1op.html">op</a> {};</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__op.html#gaa04492222b1da2e74ed6c8e0e13d7ea3">dnnl_graph_op_create</a>(&amp;<a class="code" href="classdnnl_1_1graph_1_1op.html">op</a>, <span class="keywordtype">id</span>, convert_to_c(akind),</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                                     debug_string.c_str()),</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                <span class="stringliteral">&quot;could not create op with id and op kind&quot;</span>);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        reset(<a class="code" href="classdnnl_1_1graph_1_1op.html">op</a>);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#afbfea8e3264c3758949cbe29544126b1">  781</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1op.html#afbfea8e3264c3758949cbe29544126b1">op</a>(<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>, kind akind, <span class="keyword">const</span> std::vector&lt;logical_tensor&gt; &amp;inputs,</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="keyword">const</span> std::vector&lt;logical_tensor&gt; &amp;outputs,</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <span class="keyword">const</span> std::string &amp;debug_string)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        : <a class="code" href="classdnnl_1_1graph_1_1op.html">op</a>(id, akind, debug_string) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;input : inputs) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__op.html#gac4e6257c11f83655f5a75dd538f16938">dnnl_graph_op_add_input</a>(get(), &amp;(input.data)),</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    <span class="stringliteral">&quot;adding input to the op failed&quot;</span>);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;output : outputs) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                    <a class="code" href="group__dnnl__graph__api__op.html#gaf57b836c94bc9974da2da67a0a68baf2">dnnl_graph_op_add_output</a>(get(), &amp;(output.data)),</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                    <span class="stringliteral">&quot;adding output to the op failed&quot;</span>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#ab0e18823d70c33b0882eab0557c83c09">  799</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdnnl_1_1graph_1_1op.html#ab0e18823d70c33b0882eab0557c83c09">add_input</a>(<span class="keyword">const</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &amp;t) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__op.html#gac4e6257c11f83655f5a75dd538f16938">dnnl_graph_op_add_input</a>(get(), &amp;(t.data)),</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                <span class="stringliteral">&quot;adding input to the op failed&quot;</span>);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a7159cd7dfdbae7d917f48ff7a51beff8">  807</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdnnl_1_1graph_1_1op.html#a7159cd7dfdbae7d917f48ff7a51beff8">add_inputs</a>(<span class="keyword">const</span> std::vector&lt;logical_tensor&gt; &amp;ts) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;t : ts) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__op.html#gac4e6257c11f83655f5a75dd538f16938">dnnl_graph_op_add_input</a>(get(), &amp;(t.data)),</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    <span class="stringliteral">&quot;adding input to the op failed&quot;</span>);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a8492588050f70b9bb4a27fef16c0027a">  817</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdnnl_1_1graph_1_1op.html#a8492588050f70b9bb4a27fef16c0027a">add_output</a>(<span class="keyword">const</span> <a class="code" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &amp;t) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__op.html#gaf57b836c94bc9974da2da67a0a68baf2">dnnl_graph_op_add_output</a>(get(), &amp;(t.data)),</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                <span class="stringliteral">&quot;adding output to the op failed&quot;</span>);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a9afad8a6451e194fa6de1ffca1a8cf98">  825</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdnnl_1_1graph_1_1op.html#a9afad8a6451e194fa6de1ffca1a8cf98">add_outputs</a>(<span class="keyword">const</span> std::vector&lt;logical_tensor&gt; &amp;ts) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;t : ts) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__op.html#gaf57b836c94bc9974da2da67a0a68baf2">dnnl_graph_op_add_output</a>(get(), &amp;(t.data)),</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                    <span class="stringliteral">&quot;adding output to the op failed&quot;</span>);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type,</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            requires&lt;std::is_same&lt;Type, int64_t&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">  840</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;<a class="code" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">set_attr</a>(<span class="keyword">const</span> std::string &amp;name, <span class="keyword">const</span> Type &amp;a) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        constexpr <span class="keyword">auto</span> kind = attr_kind&lt;Type&gt;();</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                <a class="code" href="group__dnnl__graph__api__op.html#ga862fb0704b7712f99ec60d7a9c4a70ac">dnnl_graph_op_add_attr</a>(get(), name.c_str(), kind, &amp;a, 0),</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                <span class="stringliteral">&quot;setting attribute to the op failed&quot;</span>);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    template &lt;typename Type, requires&lt;std::is_same&lt;Type, float&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00855"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">  855</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;<a class="code" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">set_attr</a>(<span class="keyword">const</span> std::string &amp;name, <span class="keyword">const</span> Type &amp;a) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        constexpr <span class="keyword">auto</span> kind = attr_kind&lt;Type&gt;();</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                <a class="code" href="group__dnnl__graph__api__op.html#ga862fb0704b7712f99ec60d7a9c4a70ac">dnnl_graph_op_add_attr</a>(get(), name.c_str(), kind, &amp;a, 0),</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                <span class="stringliteral">&quot;setting attribute to the op failed&quot;</span>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    template &lt;typename Type, requires&lt;std::is_same&lt;Type, bool&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">  870</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;<a class="code" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">set_attr</a>(<span class="keyword">const</span> std::string &amp;name, <span class="keyword">const</span> Type &amp;a) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        constexpr <span class="keyword">auto</span> kind = attr_kind&lt;Type&gt;();</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                <a class="code" href="group__dnnl__graph__api__op.html#ga862fb0704b7712f99ec60d7a9c4a70ac">dnnl_graph_op_add_attr</a>(get(), name.c_str(), kind, &amp;a, 0),</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                <span class="stringliteral">&quot;setting attribute to the op failed&quot;</span>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            requires&lt;std::is_same&lt;Type, std::string&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00886"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">  886</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;<a class="code" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">set_attr</a>(<span class="keyword">const</span> std::string &amp;name, <span class="keyword">const</span> Type &amp;a) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        constexpr <span class="keyword">auto</span> kind = attr_kind&lt;Type&gt;();</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                <a class="code" href="group__dnnl__graph__api__op.html#ga862fb0704b7712f99ec60d7a9c4a70ac">dnnl_graph_op_add_attr</a>(get(), name.c_str(), kind, a.c_str(), 0),</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                <span class="stringliteral">&quot;setting attribute to the op failed&quot;</span>);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type,</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            requires&lt;std::is_same&lt;Type, std::vector&lt;int64_t&gt;&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00903"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">  903</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;<a class="code" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">set_attr</a>(<span class="keyword">const</span> std::string &amp;name, <span class="keyword">const</span> Type &amp;a) {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        constexpr <span class="keyword">auto</span> kind = attr_kind&lt;Type&gt;();</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__op.html#ga862fb0704b7712f99ec60d7a9c4a70ac">dnnl_graph_op_add_attr</a>(get(), name.c_str(), kind,</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                                     a.data(), <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(a.size())),</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                <span class="stringliteral">&quot;setting attribute to the op failed&quot;</span>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type,</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            requires&lt;std::is_same&lt;Type, std::vector&lt;float&gt;&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">  920</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;<a class="code" href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">set_attr</a>(<span class="keyword">const</span> std::string &amp;name, <span class="keyword">const</span> Type &amp;a) {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        constexpr <span class="keyword">auto</span> kind = attr_kind&lt;Type&gt;();</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__op.html#ga862fb0704b7712f99ec60d7a9c4a70ac">dnnl_graph_op_add_attr</a>(get(), name.c_str(), kind,</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                                     a.data(), <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(a.size())),</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                <span class="stringliteral">&quot;setting attribute to the op failed&quot;</span>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="comment">// TODO(lvtao): Consider if this method is needed and how to support</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1op.html#a6c61ea67e0508faf659d97cf996d2bc0">  933</a></span>&#160;    std::string <a class="code" href="classdnnl_1_1graph_1_1op.html#a6c61ea67e0508faf659d97cf996d2bc0">to_string</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordtype">size_t</span> id;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                <a class="code" href="group__dnnl__graph__api__op.html#ga057fa366160206d52e4dbd05443a8b01">dnnl_graph_op_get_id</a>(get(), &amp;<span class="keywordtype">id</span>), <span class="stringliteral">&quot;cannot get the operator id&quot;</span>);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <a class="code" href="group__dnnl__graph__api__op.html#gad3d8d1611b566cade947d9d30225d5b2">dnnl_graph_op_kind_t</a> akind;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__op.html#gaba3df243e99ff3462a30c2d68b517d55">dnnl_graph_op_get_kind</a>(get(), &amp;akind),</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                <span class="stringliteral">&quot;cannot get the operator kind&quot;</span>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">return</span> std::to_string(<span class="keywordtype">id</span>) + <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                + detail::op_kind_strings.at(</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                        <span class="keyword">static_cast&lt;</span>std::vector&lt;int64_t&gt;::size_type<span class="keyword">&gt;</span>(akind));</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="group__dnnl__graph__api__op.html#gad3d8d1611b566cade947d9d30225d5b2">dnnl_graph_op_kind_t</a> convert_to_c(kind akind) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="group__dnnl__graph__api__op.html#gad3d8d1611b566cade947d9d30225d5b2">dnnl_graph_op_kind_t</a><span class="keyword">&gt;</span>(akind);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type,</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            requires&lt;std::is_same&lt;Type, int64_t&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    constexpr <span class="keyword">static</span> <a class="code" href="group__dnnl__graph__api__op.html#ga56fcbd336ee8259ef768a78ac21387ef">dnnl_graph_attribute_kind_t</a> attr_kind() noexcept {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efa5c446fd6f0882f92546239ffddad2451">dnnl_graph_attribute_kind_i</a>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type,</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            requires&lt;std::is_same&lt;Type, std::vector&lt;int64_t&gt;&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    constexpr <span class="keyword">static</span> <a class="code" href="group__dnnl__graph__api__op.html#ga56fcbd336ee8259ef768a78ac21387ef">dnnl_graph_attribute_kind_t</a> attr_kind() noexcept {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efa0b471cdaa3ee55db0c667f26e0973dbc">dnnl_graph_attribute_kind_is</a>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    template &lt;typename Type, requires&lt;std::is_same&lt;Type, float&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    constexpr <span class="keyword">static</span> <a class="code" href="group__dnnl__graph__api__op.html#ga56fcbd336ee8259ef768a78ac21387ef">dnnl_graph_attribute_kind_t</a> attr_kind() noexcept {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efa9abeaac3317b9483486cf9ebdf1e4502">dnnl_graph_attribute_kind_f</a>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type,</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            requires&lt;std::is_same&lt;Type, std::vector&lt;float&gt;&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    constexpr <span class="keyword">static</span> <a class="code" href="group__dnnl__graph__api__op.html#ga56fcbd336ee8259ef768a78ac21387ef">dnnl_graph_attribute_kind_t</a> attr_kind() noexcept {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efa2092f0d1b6566fe908698e33aab8e3b1">dnnl_graph_attribute_kind_fs</a>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Type,</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            requires&lt;std::is_same&lt;Type, std::string&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    constexpr <span class="keyword">static</span> <a class="code" href="group__dnnl__graph__api__op.html#ga56fcbd336ee8259ef768a78ac21387ef">dnnl_graph_attribute_kind_t</a> attr_kind() noexcept {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efa5f2ffc9a38e9d53cfe93fe94204489a4">dnnl_graph_attribute_kind_s</a>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    template &lt;typename Attr, requires&lt;std::is_same&lt;Attr, bool&gt;::value&gt; = <span class="keyword">true</span>&gt;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    constexpr <span class="keyword">static</span> <a class="code" href="group__dnnl__graph__api__op.html#ga56fcbd336ee8259ef768a78ac21387ef">dnnl_graph_attribute_kind_t</a> attr_kind() noexcept {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efab55cf1bd7cd08e712c457ae098b67b99">dnnl_graph_attribute_kind_b</a>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;};</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html">  999</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1partition.html">partition</a> : <span class="keyword">public</span> detail::partition_handle {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3c"> 1002</a></span>&#160;    <span class="keyword">enum class</span> <a class="code" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3c">policy</a> {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3ca2ffe4e77325d9a7152f7086ea7aa5114">max</a> = <a class="code" href="group__dnnl__graph__api__partition.html#gga7e24b277b64600ef3a83dac2e8dfa83ba9f41a38f43daa29732ac671080008b54">dnnl_graph_partition_policy_max</a>,</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3ca051de32597041e41f73b97d61c67a13b">fusion</a> = <a class="code" href="group__dnnl__graph__api__partition.html#gga7e24b277b64600ef3a83dac2e8dfa83ba1489f3f9bb1262b58fa0bf0524d883a4">dnnl_graph_partition_policy_fusion</a>,</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3caad42f6697b035b7580e4fef93be20b4d">debug</a> = <a class="code" href="group__dnnl__graph__api__partition.html#gga7e24b277b64600ef3a83dac2e8dfa83ba5f841a05c0fc7df9bc023359f49ca3a0">dnnl_graph_partition_policy_debug</a>,</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    };</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1partition.html">partition</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#ac89aea74d6e45b5b0974c31ee4f756ce"> 1017</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1partition.html#ac89aea74d6e45b5b0974c31ee4f756ce">partition</a>(dnnl_graph_partition_t *p) { reset(p, <span class="keyword">false</span>); }</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#a617cb01f02a4f7fa459fb346f552cde9"> 1023</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1partition.html#a617cb01f02a4f7fa459fb346f552cde9">partition</a>(<span class="keyword">const</span> <a class="code" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;aop, <a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a> ekind) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        dnnl_graph_partition_t *p {};</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                <a class="code" href="group__dnnl__graph__api__partition.html#gadb4609ba2c51136c35b6fb9d8b11fa9e">dnnl_graph_partition_create_with_op</a>(&amp;p, aop.get(),</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                        <span class="keyword">static_cast&lt;</span><a class="code" href="group__dnnl__graph__api__engine.html#ga6ac1ba87052e33099253f1d21ddd0091">dnnl_graph_engine_kind_t</a><span class="keyword">&gt;</span>(ekind)),</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                <span class="stringliteral">&quot;could not create a partition with the op and engine kind&quot;</span>);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        reset(p);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#ac86965ac32334fa986d0c05344617668"> 1035</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classdnnl_1_1graph_1_1partition.html#ac86965ac32334fa986d0c05344617668">get_ops_num</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="keywordtype">size_t</span> num {0};</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__partition.html#gae377c7c97821f6ee0f30fe629ba30d88">dnnl_graph_partition_get_op_num</a>(get(), &amp;num),</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                <span class="stringliteral">&quot;could not get number of ops from the partition&quot;</span>);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="keywordflow">return</span> num;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#a51905246cf32250003073e47eb2a620a"> 1045</a></span>&#160;    std::vector&lt;size_t&gt; <a class="code" href="classdnnl_1_1graph_1_1partition.html#a51905246cf32250003073e47eb2a620a">get_ops</a>() {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keyword">auto</span> num = <a class="code" href="classdnnl_1_1graph_1_1partition.html#ac86965ac32334fa986d0c05344617668">get_ops_num</a>();</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        std::vector&lt;size_t&gt; ops(num);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                <a class="code" href="group__dnnl__graph__api__partition.html#ga35581ae03ac8606c1bcb52e4c6ee8d8a">dnnl_graph_partition_get_ops</a>(get(), num, ops.data()),</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                <span class="stringliteral">&quot;could not get op ids from the partition&quot;</span>);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordflow">return</span> ops;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#a46aec3b49987b57ff4cce53a4fccaadd"> 1058</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classdnnl_1_1graph_1_1partition.html#a46aec3b49987b57ff4cce53a4fccaadd">get_id</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordtype">size_t</span> <span class="keywordtype">id</span> {};</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__partition.html#ga4112947b57e9a6c12e3a2607e4efb1a9">dnnl_graph_partition_get_id</a>(get(), &amp;<span class="keywordtype">id</span>),</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                <span class="stringliteral">&quot;could not get id of the partition&quot;</span>);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <span class="keywordflow">return</span> id;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#a5c2af93c65a09c9d0a1507571ada0318"> 1073</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html">compiled_partition</a> <a class="code" href="classdnnl_1_1graph_1_1partition.html#a5c2af93c65a09c9d0a1507571ada0318">compile</a>(<span class="keyword">const</span> std::vector&lt;logical_tensor&gt; &amp;inputs,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <span class="keyword">const</span> std::vector&lt;logical_tensor&gt; &amp;outputs, <span class="keyword">const</span> <a class="code" href="classdnnl_1_1graph_1_1engine.html">engine</a> &amp;e)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="keywordflow">return</span> compile_(inputs, outputs, &amp;e);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#a26da3f9fa2a6d59865e6ef4c27521892"> 1082</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdnnl_1_1graph_1_1partition.html#a26da3f9fa2a6d59865e6ef4c27521892">infer_shape</a>(<span class="keyword">const</span> std::vector&lt;logical_tensor&gt; &amp;inputs,</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            std::vector&lt;logical_tensor&gt; &amp;outputs)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        std::vector&lt;const dnnl_graph_logical_tensor_t *&gt; c_inputs;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        std::vector&lt;dnnl_graph_logical_tensor_t *&gt; c_outputs;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        c_inputs.reserve(inputs.size());</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;in : inputs) {</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            c_inputs.push_back(&amp;(in.data));</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        c_outputs.reserve(outputs.size());</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;out : outputs) {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            c_outputs.push_back(&amp;(out.data));</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                <a class="code" href="group__dnnl__graph__api__partition.html#ga3476590fa91ddfc5083760a5195b92f3">dnnl_graph_partition_infer_shape</a>(get(),</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                        <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(c_inputs.size()), c_inputs.data(),</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                        <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(c_outputs.size()),</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                        c_outputs.data()),</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                <span class="stringliteral">&quot;inferring output shape of the partition failed&quot;</span>);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#ad80536833d69e2660c496adbd9ec0aa3"> 1109</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classdnnl_1_1graph_1_1partition.html#ad80536833d69e2660c496adbd9ec0aa3">is_supported</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        uint8_t supported {0};</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                <a class="code" href="group__dnnl__graph__api__partition.html#ga336a0d637328ad31ed081b087c20048d">dnnl_graph_partition_is_supported</a>(get(), &amp;supported),</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                <span class="stringliteral">&quot;could not get supporting status of the partition&quot;</span>);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(supported);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#ac79139d8b8cd5c70e3a1a8444fa64e7a"> 1120</a></span>&#160;    std::vector&lt;logical_tensor&gt; <a class="code" href="classdnnl_1_1graph_1_1partition.html#ac79139d8b8cd5c70e3a1a8444fa64e7a">get_in_ports</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        uint64_t num;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__partition.html#ga3f3d3e8b22af1c0d25c65b88c47cfd24">dnnl_graph_partition_get_in_ports_num</a>(get(), &amp;num),</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                <span class="stringliteral">&quot;could not get number of inputs of the partition&quot;</span>);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="keywordflow">if</span> (num == 0) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        std::vector&lt;dnnl_graph_logical_tensor_t&gt; c_inputs(num);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                <a class="code" href="group__dnnl__graph__api__partition.html#ga74761e9b65b0a448fbd8b67440c65d97">dnnl_graph_partition_get_in_ports</a>(get(), num, c_inputs.data()),</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                <span class="stringliteral">&quot;could not get input logical tensors of the partition&quot;</span>);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        std::vector&lt;logical_tensor&gt; inputs;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        inputs.reserve(num);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;c_lt : c_inputs)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            inputs.emplace_back(c_lt);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">return</span> inputs;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#a0f7820908672c69ce9683ab071af952d"> 1141</a></span>&#160;    std::vector&lt;logical_tensor&gt; <a class="code" href="classdnnl_1_1graph_1_1partition.html#a0f7820908672c69ce9683ab071af952d">get_out_ports</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        uint64_t num;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                <a class="code" href="group__dnnl__graph__api__partition.html#ga1612b203031a0f9068c22a780784104a">dnnl_graph_partition_get_out_ports_num</a>(get(), &amp;num),</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                <span class="stringliteral">&quot;cannot get number of outputs of the partition&quot;</span>);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keywordflow">if</span> (num == 0) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        std::vector&lt;dnnl_graph_logical_tensor_t&gt; c_outputs(num);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__partition.html#ga40fd33f6088ea8ceb650a6a5c9849dd1">dnnl_graph_partition_get_out_ports</a>(</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                                     get(), num, c_outputs.data()),</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                <span class="stringliteral">&quot;could not get output logical tensors of the partition&quot;</span>);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        std::vector&lt;logical_tensor&gt; outputs;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        outputs.reserve(num);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;c_lt : c_outputs)</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            outputs.emplace_back(c_lt);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <span class="keywordflow">return</span> outputs;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1partition.html#a606818ef956ac2956bbc74543a142abb"> 1163</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a> <a class="code" href="classdnnl_1_1graph_1_1partition.html#a606818ef956ac2956bbc74543a142abb">get_engine_kind</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <a class="code" href="group__dnnl__graph__api__engine.html#ga6ac1ba87052e33099253f1d21ddd0091">dnnl_graph_engine_kind_t</a> akind;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                <a class="code" href="group__dnnl__graph__api__partition.html#ga3afe11a0ff7327afa710dfbb28c5660c">dnnl_graph_partition_get_engine_kind</a>(get(), &amp;akind),</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                <span class="stringliteral">&quot;cannot get the engine kind from the partition&quot;</span>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a><span class="keyword">&gt;</span>(akind);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1compiled__partition.html">compiled_partition</a> compile_(<span class="keyword">const</span> std::vector&lt;logical_tensor&gt; &amp;inputs,</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            <span class="keyword">const</span> std::vector&lt;logical_tensor&gt; &amp;outputs, <span class="keyword">const</span> <a class="code" href="classdnnl_1_1graph_1_1engine.html">engine</a> *e)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        std::vector&lt;const dnnl_graph_logical_tensor_t *&gt; c_inputs;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        std::vector&lt;const dnnl_graph_logical_tensor_t *&gt; c_outputs;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        c_inputs.reserve(inputs.size());</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;in : inputs) {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            c_inputs.push_back(&amp;(in.data));</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        c_outputs.reserve(outputs.size());</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;out : outputs) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            c_outputs.push_back(&amp;(out.data));</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        dnnl_graph_compiled_partition_t *cpartitions;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                <a class="code" href="group__dnnl__graph__api__compiled__partition.html#ga6195715f5461f59b5f7e0b81c94d8ad6">dnnl_graph_compiled_partition_create</a>(&amp;cpartitions, get()),</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="stringliteral">&quot;could not create compiled_partition&quot;</span>);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                <a class="code" href="group__dnnl__graph__api__partition.html#gac83bd7f73ce79908254aa98e967b0559">dnnl_graph_partition_compile</a>(get(), cpartitions,</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                        <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(c_inputs.size()), c_inputs.data(),</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                        <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(c_outputs.size()),</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                        c_outputs.data(), e-&gt;get()),</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                <span class="stringliteral">&quot;partition compile failed&quot;</span>);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="keywordflow">return</span> compiled_partition(cpartitions);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    }</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;};</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1graph.html"> 1215</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdnnl_1_1graph_1_1graph.html">graph</a> : <span class="keyword">public</span> detail::graph_handle {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01220"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1graph.html#ab9989b31612c971d723b21bce61f3812"> 1220</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1graph.html#ab9989b31612c971d723b21bce61f3812">graph</a>(<a class="code" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a> engine_kind) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        dnnl_graph_graph_t *g {};</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                <a class="code" href="group__dnnl__graph__api__graph.html#gadfe53f5827f6a1b22c6a3d379b229af9">dnnl_graph_graph_create</a>(&amp;g, engine::convert_to_c(engine_kind)),</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                <span class="stringliteral">&quot;could not create graph with engine kind and device id&quot;</span>);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        reset(g);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    };</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1graph.html#ae5a2c34dc050660b83a0f51eb3d8bb75"> 1232</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdnnl_1_1graph_1_1graph.html#ae5a2c34dc050660b83a0f51eb3d8bb75">add_op</a>(<span class="keyword">const</span> <a class="code" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;<a class="code" href="classdnnl_1_1graph_1_1op.html">op</a>) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__graph.html#ga46e3946d6079590f03205f660be1b5fe">dnnl_graph_add_op</a>(get(), <a class="code" href="classdnnl_1_1graph_1_1op.html">op</a>.get()),</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                <span class="stringliteral">&quot;adding op to the graph failed&quot;</span>);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1graph.html#a877038ad985b12eed969c9cbd2694916"> 1238</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classdnnl_1_1graph_1_1graph.html#a877038ad985b12eed969c9cbd2694916">partition_vec</a> = std::vector&lt;partition&gt;;</div>
<div class="line"><a name="l01244"></a><span class="lineno"><a class="line" href="classdnnl_1_1graph_1_1graph.html#a8f549cae111ab22b6c656e7c66a35b03"> 1244</a></span>&#160;    <a class="code" href="classdnnl_1_1graph_1_1graph.html#a877038ad985b12eed969c9cbd2694916">partition_vec</a> <a class="code" href="classdnnl_1_1graph_1_1graph.html#a8f549cae111ab22b6c656e7c66a35b03">get_partitions</a>(</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            <a class="code" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3c">partition::policy</a> policy = <a class="code" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3ca051de32597041e41f73b97d61c67a13b">partition::policy::fusion</a>) {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                <a class="code" href="group__dnnl__graph__api__graph.html#ga27e4c096e75702ef2a885c2cecd64d12">dnnl_graph_graph_filter</a>(get(),</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                        <span class="keyword">static_cast&lt;</span><a class="code" href="group__dnnl__graph__api__partition.html#ga7e24b277b64600ef3a83dac2e8dfa83b">dnnl_graph_partition_policy_t</a><span class="keyword">&gt;</span>(policy)),</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                <span class="stringliteral">&quot;filter graph failed&quot;</span>);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        uint64_t partitions_no {0};</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                <a class="code" href="group__dnnl__graph__api__graph.html#gab0799273b35e51deb13ebaf510124a8b">dnnl_graph_graph_get_partition_num</a>(get(), &amp;partitions_no),</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                <span class="stringliteral">&quot;could not get number of partitions from the graph&quot;</span>);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <a class="code" href="classdnnl_1_1graph_1_1graph.html#a877038ad985b12eed969c9cbd2694916">partition_vec</a> out_list;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        out_list.reserve(partitions_no);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        std::vector&lt;dnnl_graph_partition_t *&gt; partitions(partitions_no);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;p : partitions) {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(<a class="code" href="group__dnnl__graph__api__partition.html#gabdd1e8735d0f2f72165da4c2458121e0">dnnl_graph_partition_create</a>(&amp;p),</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                    <span class="stringliteral">&quot;could not create partition&quot;</span>);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <a class="code" href="group__dnnl__graph__api__graph.html#gaf5c2c8684ac48acc413fb9cfbe699c60">dnnl_graph_graph_get_partitions</a>(</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                get(), partitions_no, partitions.data());</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : partitions) {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            out_list.emplace_back(p);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="keywordflow">return</span> out_list;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    }</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;};</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"><a class="line" href="group__dnnl__graph__api__compiled__partition__cache.html#ga6a1bba962b6499e55ba1fb81692d04b7"> 1285</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="group__dnnl__graph__api__compiled__partition__cache.html#ga6a1bba962b6499e55ba1fb81692d04b7">get_compiled_partition_cache_capacity</a>() {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            <a class="code" href="group__dnnl__graph__compiled__partition__cache.html#gab8d486a9bab60abb9991195d771d60d6">dnnl_graph_get_compiled_partition_cache_capacity</a>(&amp;result),</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <span class="stringliteral">&quot;could not get compiled partition cache capacity&quot;</span>);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;}</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"><a class="line" href="group__dnnl__graph__api__compiled__partition__cache.html#ga2260760847caf233f319967e73811319"> 1294</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group__dnnl__graph__api__compiled__partition__cache.html#ga2260760847caf233f319967e73811319">set_compiled_partition_cache_capacity</a>(<span class="keywordtype">int</span> capacity) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">error::check_succeed</a>(</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <a class="code" href="group__dnnl__graph__compiled__partition__cache.html#gaa0a9ac274341b33fee47817108af6473">dnnl_graph_set_compiled_partition_cache_capacity</a>(capacity),</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            <span class="stringliteral">&quot;could not set compiled partition cache capacity&quot;</span>);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;}</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01309"></a><span class="lineno"><a class="line" href="group__dnnl__graph__api__service.html#gaaa40a23fb690388b9aa26aee0e2eab02"> 1309</a></span>&#160;<span class="keyword">using</span> <a class="code" href="structdnnl__graph__version__t.html">version_t</a> = <a class="code" href="structdnnl__graph__version__t.html">dnnl_graph_version_t</a>;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"><a class="line" href="group__dnnl__graph__api__service.html#ga510ae6f05b22657234d415a88f610aff"> 1312</a></span>&#160;<span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="structdnnl__graph__version__t.html">version_t</a> *<a class="code" href="group__dnnl__graph__api__service.html#ga510ae6f05b22657234d415a88f610aff">version</a>() {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__dnnl__graph__api__service.html#ga3750ee36ca62094fde1728e8589f18c9">dnnl_graph_version</a>();</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;}</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;} <span class="comment">// namespace graph</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;} <span class="comment">// namespace dnnl</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="comment">// Contains the oneapi::dnnl namespace as an alias to the ::dnnl namespace.</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"><a class="line" href="namespaceoneapi.html"> 1323</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceoneapi.html">oneapi</a> {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">// Note: without this guard, doxygen warns of potentially recursive namespace</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="preprocessor">#ifndef DOXYGEN_SHOULD_SKIP_THIS</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="keyword">namespace </span>dnnl = ::dnnl;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;} <span class="comment">// namespace oneapi</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1allocator_html"><div class="ttname"><a href="classdnnl_1_1graph_1_1allocator.html">dnnl::graph::allocator</a></div><div class="ttdoc">Allocator.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:45</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1allocator_html_a0df3aa313d3d7699ab8a3ee687800dd8"><div class="ttname"><a href="classdnnl_1_1graph_1_1allocator.html#a0df3aa313d3d7699ab8a3ee687800dd8">dnnl::graph::allocator::allocator</a></div><div class="ttdeci">allocator()</div><div class="ttdoc">Default constructor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:73</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1allocator_html_a0fc5129434dd74f688ae45fb7027ea1c"><div class="ttname"><a href="classdnnl_1_1graph_1_1allocator.html#a0fc5129434dd74f688ae45fb7027ea1c">dnnl::graph::allocator::allocator</a></div><div class="ttdeci">allocator(dnnl_graph_cpu_allocate_f cpu_malloc, dnnl_graph_cpu_deallocate_f cpu_free)</div><div class="ttdoc">Constructs an allocator according to given function pointers.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:63</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1allocator_html_ad9d6519838db5fb679d8f9c1ca81c04c"><div class="ttname"><a href="classdnnl_1_1graph_1_1allocator.html#ad9d6519838db5fb679d8f9c1ca81c04c">dnnl::graph::allocator::lifetime</a></div><div class="ttdeci">lifetime</div><div class="ttdoc">allocation lifetime enumeration</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:53</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1compiled__partition_html"><div class="ttname"><a href="classdnnl_1_1graph_1_1compiled__partition.html">dnnl::graph::compiled_partition</a></div><div class="ttdoc">A compiled partition contains a partition and a handle representing the target specific compiled obje...</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:605</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1compiled__partition_html_a177789ae0e975739438937011ca8a378"><div class="ttname"><a href="classdnnl_1_1graph_1_1compiled__partition.html#a177789ae0e975739438937011ca8a378">dnnl::graph::compiled_partition::compiled_partition</a></div><div class="ttdeci">compiled_partition(dnnl_graph_compiled_partition_t *compiled_partition)</div><div class="ttdoc">Constructs a compiled partition object.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:611</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1compiled__partition_html_a3cf34b8ed11d40de19bac51d2d94ae30"><div class="ttname"><a href="classdnnl_1_1graph_1_1compiled__partition.html#a3cf34b8ed11d40de19bac51d2d94ae30">dnnl::graph::compiled_partition::compiled_partition</a></div><div class="ttdeci">compiled_partition()=default</div><div class="ttdoc">Default constructor. Constructs an empty object.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1compiled__partition_html_a558ed47b3cbc5cc2167001da3faa0339"><div class="ttname"><a href="classdnnl_1_1graph_1_1compiled__partition.html#a558ed47b3cbc5cc2167001da3faa0339">dnnl::graph::compiled_partition::execute</a></div><div class="ttdeci">void execute(stream &amp;astream, const std::vector&lt; tensor &gt; &amp;inputs, const std::vector&lt; tensor &gt; &amp;outputs) const</div><div class="ttdoc">Execute a compiled partition.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:661</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1compiled__partition_html_a85962826e94cc3cefb3c19c0fadc4e09"><div class="ttname"><a href="classdnnl_1_1graph_1_1compiled__partition.html#a85962826e94cc3cefb3c19c0fadc4e09">dnnl::graph::compiled_partition::query_logical_tensor</a></div><div class="ttdeci">logical_tensor query_logical_tensor(size_t tid) const</div><div class="ttdoc">Returns the logical tensor according to tensor id.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:619</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1compiled__partition_html_ab80ec9f6a37ddbf7b2636fb35acf74f2"><div class="ttname"><a href="classdnnl_1_1graph_1_1compiled__partition.html#ab80ec9f6a37ddbf7b2636fb35acf74f2">dnnl::graph::compiled_partition::get_inplace_ports</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt; get_inplace_ports() const</div><div class="ttdoc">Returns the in-place port pairs.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:638</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html">dnnl::graph::engine</a></div><div class="ttdoc">An engine contains device kind and a device_id or device_handle.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:97</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html_a1c36940a4221f1f66248c958999ad14a"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html#a1c36940a4221f1f66248c958999ad14a">dnnl::graph::engine::set_allocator</a></div><div class="ttdeci">void set_allocator(allocator &amp;alloc)</div><div class="ttdoc">Set allocator to an engine.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:141</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html_a425168b38184f5d22b9eebfb3193b40e"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">dnnl::graph::engine::kind</a></div><div class="ttdeci">kind</div><div class="ttdoc">engine kind</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:102</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html_a425168b38184f5d22b9eebfb3193b40ea0aa0be2a866411d9ff03515227454947"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40ea0aa0be2a866411d9ff03515227454947">dnnl::graph::engine::kind::gpu</a></div><div class="ttdeci">@ gpu</div><div class="ttdoc">GPU engine.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html_a425168b38184f5d22b9eebfb3193b40ea100b8cad7cf2a56f6df78f171f97a1ec"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40ea100b8cad7cf2a56f6df78f171f97a1ec">dnnl::graph::engine::kind::any</a></div><div class="ttdeci">@ any</div><div class="ttdoc">An unspecified engine.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html_a425168b38184f5d22b9eebfb3193b40ead9747e2da342bdb995f6389533ad1a3d"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40ead9747e2da342bdb995f6389533ad1a3d">dnnl::graph::engine::kind::cpu</a></div><div class="ttdeci">@ cpu</div><div class="ttdoc">CPU engine.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html_a5e793e1abf748a0508831161f913713d"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html#a5e793e1abf748a0508831161f913713d">dnnl::graph::engine::get_kind</a></div><div class="ttdeci">kind get_kind() const</div><div class="ttdoc">Returns concrete kind of the current engine.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:171</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html_a739f9edfe9dbebd1dee1b2d35e5250d7"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html#a739f9edfe9dbebd1dee1b2d35e5250d7">dnnl::graph::engine::engine</a></div><div class="ttdeci">engine(kind akind, int device_id)</div><div class="ttdoc">Constructs an engine with specified kind and device_id.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:115</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html_a8366f7d043eca29e3bdcd8b4d1bb675b"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html#a8366f7d043eca29e3bdcd8b4d1bb675b">dnnl::graph::engine::engine</a></div><div class="ttdeci">engine(kind akind, int device_id, allocator &amp;alloc)</div><div class="ttdoc">Constructs an engine with specified kind and device_id.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:128</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html_a9774565193c70104b45b7d6ee694ed12"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html#a9774565193c70104b45b7d6ee694ed12">dnnl::graph::engine::get_device_handle</a></div><div class="ttdeci">void * get_device_handle() const</div><div class="ttdoc">Returns device handle of the current engine.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:150</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1engine_html_ab700c5b9a252cd78014eecb57a4e0e3d"><div class="ttname"><a href="classdnnl_1_1graph_1_1engine.html#ab700c5b9a252cd78014eecb57a4e0e3d">dnnl::graph::engine::get_device_id</a></div><div class="ttdeci">int get_device_id() const</div><div class="ttdoc">Returns device id of the current engine.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:161</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1graph_html"><div class="ttname"><a href="classdnnl_1_1graph_1_1graph.html">dnnl::graph::graph</a></div><div class="ttdoc">A graph session to start analysis of computational DAG.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1215</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1graph_html_a877038ad985b12eed969c9cbd2694916"><div class="ttname"><a href="classdnnl_1_1graph_1_1graph.html#a877038ad985b12eed969c9cbd2694916">dnnl::graph::graph::partition_vec</a></div><div class="ttdeci">std::vector&lt; partition &gt; partition_vec</div><div class="ttdoc">Vector to store the partitions.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1238</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1graph_html_a8f549cae111ab22b6c656e7c66a35b03"><div class="ttname"><a href="classdnnl_1_1graph_1_1graph.html#a8f549cae111ab22b6c656e7c66a35b03">dnnl::graph::graph::get_partitions</a></div><div class="ttdeci">partition_vec get_partitions(partition::policy policy=partition::policy::fusion)</div><div class="ttdoc">Get filtered partitions.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1244</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1graph_html_ab9989b31612c971d723b21bce61f3812"><div class="ttname"><a href="classdnnl_1_1graph_1_1graph.html#ab9989b31612c971d723b21bce61f3812">dnnl::graph::graph::graph</a></div><div class="ttdeci">graph(engine::kind engine_kind)</div><div class="ttdoc">Constructs a graph session using device information.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1220</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1graph_html_ae5a2c34dc050660b83a0f51eb3d8bb75"><div class="ttname"><a href="classdnnl_1_1graph_1_1graph.html#ae5a2c34dc050660b83a0f51eb3d8bb75">dnnl::graph::graph::add_op</a></div><div class="ttdeci">void add_op(const op &amp;op)</div><div class="ttdoc">Add an op to the graph session to construct DAG for analysis.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1232</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html">dnnl::graph::logical_tensor</a></div><div class="ttdoc">Logical tensor object.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:290</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_a01cec4c5633637fb344d03e5547f9945"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#a01cec4c5633637fb344d03e5547f9945">dnnl::graph::logical_tensor::logical_tensor</a></div><div class="ttdeci">logical_tensor()=default</div><div class="ttdoc">default constructor construct an empty object</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_a1145a0d922405a0c465f6957ac40c50e"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#a1145a0d922405a0c465f6957ac40c50e">dnnl::graph::logical_tensor::logical_tensor</a></div><div class="ttdeci">logical_tensor(size_t tid, data_type dtype, const dims_t &amp;adims, const dims_t &amp;strides)</div><div class="ttdoc">Constructs a logical tensor object.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:404</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_a121c83f0830fbc0ebf35c29b989a97b1"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#a121c83f0830fbc0ebf35c29b989a97b1">dnnl::graph::logical_tensor::has_same_layout</a></div><div class="ttdeci">bool has_same_layout(const logical_tensor &amp;lt) const</div><div class="ttdoc">Compares if this and input logical tensor has the same layout.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:511</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_a12b73d1201259d4260de5603f62c7f15"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#a12b73d1201259d4260de5603f62c7f15">dnnl::graph::logical_tensor::get_mem_size</a></div><div class="ttdeci">size_t get_mem_size() const</div><div class="ttdoc">Get memory size required by this logical tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:498</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_a16293ad2f9c69e572a693183273abbf8"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#a16293ad2f9c69e572a693183273abbf8">dnnl::graph::logical_tensor::logical_tensor</a></div><div class="ttdeci">logical_tensor(size_t tid, data_type dtype, const dims_t &amp;adims, layout_type ltype)</div><div class="ttdoc">Constructs a logical tensor object.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:378</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_a29439e81366ba8db75180dc8c975d1ca"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#a29439e81366ba8db75180dc8c975d1ca">dnnl::graph::logical_tensor::get_id</a></div><div class="ttdeci">size_t get_id() const</div><div class="ttdoc">Returns unique id of the logical tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:455</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_a65a85083e3ef174e1353ad7a9b4ecc65"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#a65a85083e3ef174e1353ad7a9b4ecc65">dnnl::graph::logical_tensor::logical_tensor</a></div><div class="ttdeci">logical_tensor(size_t tid, data_type dtype, layout_type ltype=layout_type::undef)</div><div class="ttdoc">Delegated construtor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:367</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_a8557c46e004ed95249688ccc1e29fdc6"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#a8557c46e004ed95249688ccc1e29fdc6">dnnl::graph::logical_tensor::logical_tensor</a></div><div class="ttdeci">logical_tensor(const dnnl_graph_logical_tensor_t &amp;c_data)</div><div class="ttdoc">Constructs a logical tensor object.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:337</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_a925058b843b57b8ba8dc9785a38b932b"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#a925058b843b57b8ba8dc9785a38b932b">dnnl::graph::logical_tensor::get_dims</a></div><div class="ttdeci">dims_t get_dims() const</div><div class="ttdoc">Returns dimensions of the logical tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:450</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_a9be917e282595dcb6b63ef5c7e695cdb"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#a9be917e282595dcb6b63ef5c7e695cdb">dnnl::graph::logical_tensor::get_strides</a></div><div class="ttdeci">dims_t get_strides() const</div><div class="ttdoc">Returns strides of this logical tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:486</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_aaea19b3ce4512e5f2e1d0c68d9f0677f"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#aaea19b3ce4512e5f2e1d0c68d9f0677f">dnnl::graph::logical_tensor::get_data_type</a></div><div class="ttdeci">data_type get_data_type() const</div><div class="ttdoc">Returns data type of the logical tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:460</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_ab5f9ec2883715a4f033797ec25e9a319"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#ab5f9ec2883715a4f033797ec25e9a319">dnnl::graph::logical_tensor::logical_tensor</a></div><div class="ttdeci">logical_tensor(size_t tid, data_type dtype, int32_t ndims, layout_type ltype)</div><div class="ttdoc">Constructs a logical tensor object.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:352</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_ac704ec2076718dc5c16377dc71f2598a"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#ac704ec2076718dc5c16377dc71f2598a">dnnl::graph::logical_tensor::get_layout_id</a></div><div class="ttdeci">int64_t get_layout_id() const</div><div class="ttdoc">Returns the layout of the tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:474</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_acddb1dc65b7b4feede7710a719f32227"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227">dnnl::graph::logical_tensor::data_type</a></div><div class="ttdeci">data_type</div><div class="ttdoc">Data Type.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:302</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_acddb1dc65b7b4feede7710a719f32227a077393852be20e37026d6281827662f2"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227a077393852be20e37026d6281827662f2">dnnl::graph::logical_tensor::data_type::u8</a></div><div class="ttdeci">@ u8</div><div class="ttdoc">8-bit unsigned integer.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_acddb1dc65b7b4feede7710a719f32227a3e8d88fdd85d7153525e0647cdd97686"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227a3e8d88fdd85d7153525e0647cdd97686">dnnl::graph::logical_tensor::data_type::s8</a></div><div class="ttdeci">@ s8</div><div class="ttdoc">8-bit signed integer.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_acddb1dc65b7b4feede7710a719f32227a512dc597be7ae761876315165dc8bd2e"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227a512dc597be7ae761876315165dc8bd2e">dnnl::graph::logical_tensor::data_type::f32</a></div><div class="ttdeci">@ f32</div><div class="ttdoc">32-bit/single-precision floating point.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_acddb1dc65b7b4feede7710a719f32227aa2449b6477c1fef79be4202906486876"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227aa2449b6477c1fef79be4202906486876">dnnl::graph::logical_tensor::data_type::f16</a></div><div class="ttdeci">@ f16</div><div class="ttdoc">16-bit/half-precision floating point.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_acddb1dc65b7b4feede7710a719f32227aa860868d23f3a68323a2e3f6563d7f31"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227aa860868d23f3a68323a2e3f6563d7f31">dnnl::graph::logical_tensor::data_type::s32</a></div><div class="ttdeci">@ s32</div><div class="ttdoc">32-bit signed integer.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_acddb1dc65b7b4feede7710a719f32227afe2904d9fb3b0f4a81c92b03dec11424"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#acddb1dc65b7b4feede7710a719f32227afe2904d9fb3b0f4a81c92b03dec11424">dnnl::graph::logical_tensor::data_type::bf16</a></div><div class="ttdeci">@ bf16</div><div class="ttdoc">non-standard 16-bit (bfloat16 w/ 7 bit mantissa) floating point.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_ad3fcaff44671577e56adb03b770f4867"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867">dnnl::graph::logical_tensor::layout_type</a></div><div class="ttdeci">layout_type</div><div class="ttdoc">Layout type.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:319</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_ad3fcaff44671577e56adb03b770f4867a100b8cad7cf2a56f6df78f171f97a1ec"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867a100b8cad7cf2a56f6df78f171f97a1ec">dnnl::graph::logical_tensor::layout_type::any</a></div><div class="ttdeci">@ any</div><div class="ttdoc">any means that oneDNN graph implementation needs to decide the layout for the compiled partition.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_ad3fcaff44671577e56adb03b770f4867a67a4043caf23a1d1393e5740873578bd"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867a67a4043caf23a1d1393e5740873578bd">dnnl::graph::logical_tensor::layout_type::strided</a></div><div class="ttdeci">@ strided</div><div class="ttdoc">strided means that the layout is determined by the strides field.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_ad3fcaff44671577e56adb03b770f4867a94619f8a70068b2591c2eed622525b0e"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867a94619f8a70068b2591c2eed622525b0e">dnnl::graph::logical_tensor::layout_type::opaque</a></div><div class="ttdeci">@ opaque</div><div class="ttdoc">opaque means that the layout is a target-specific layout decided by oneDNN graph implementation.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_ad3fcaff44671577e56adb03b770f4867af31ee5e3824f1f5e5d206bdf3029f22b"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#ad3fcaff44671577e56adb03b770f4867af31ee5e3824f1f5e5d206bdf3029f22b">dnnl::graph::logical_tensor::layout_type::undef</a></div><div class="ttdeci">@ undef</div><div class="ttdoc">undefined layout type</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_ad9e3190a8cbabfcdbfae558284711208"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#ad9e3190a8cbabfcdbfae558284711208">dnnl::graph::logical_tensor::logical_tensor</a></div><div class="ttdeci">logical_tensor(const logical_tensor &amp;other)=default</div><div class="ttdoc">Copy.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_adf186c42eb7e4718f4985845a1101ac5"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#adf186c42eb7e4718f4985845a1101ac5">dnnl::graph::logical_tensor::get_layout_type</a></div><div class="ttdeci">layout_type get_layout_type() const</div><div class="ttdoc">Returns layout type of the logical tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:467</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_ae23ae4e4d8341ba872f1354457123667"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#ae23ae4e4d8341ba872f1354457123667">dnnl::graph::logical_tensor::logical_tensor</a></div><div class="ttdeci">logical_tensor(size_t tid, data_type dtype, const dims_t &amp;adims, int64_t lid)</div><div class="ttdoc">Constructs a logical tensor object.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:425</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1logical__tensor_html_afbb1d508c701fd9d09409e0dae4e67e2"><div class="ttname"><a href="classdnnl_1_1graph_1_1logical__tensor.html#afbb1d508c701fd9d09409e0dae4e67e2">dnnl::graph::logical_tensor::operator=</a></div><div class="ttdeci">logical_tensor &amp; operator=(const logical_tensor &amp;other)=default</div><div class="ttdoc">Assign.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1op_html"><div class="ttname"><a href="classdnnl_1_1graph_1_1op.html">dnnl::graph::op</a></div><div class="ttdoc">A op contains kind, attribute, and the input and output logical tensor(s).</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:690</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1op_html_a119bbef9386a502d23b59db5d0e1e589"><div class="ttname"><a href="classdnnl_1_1graph_1_1op.html#a119bbef9386a502d23b59db5d0e1e589">dnnl::graph::op::set_attr</a></div><div class="ttdeci">op &amp; set_attr(const std::string &amp;name, const Type &amp;a)</div><div class="ttdoc">Sets the attribute according to the name and type (int64_t)</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:840</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1op_html_a6c61ea67e0508faf659d97cf996d2bc0"><div class="ttname"><a href="classdnnl_1_1graph_1_1op.html#a6c61ea67e0508faf659d97cf996d2bc0">dnnl::graph::op::to_string</a></div><div class="ttdeci">std::string to_string() const</div><div class="ttdoc">Returns the string format of the Op id and kind.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:933</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1op_html_a6d66ed3c27fc33f6d2727d80957536e0"><div class="ttname"><a href="classdnnl_1_1graph_1_1op.html#a6d66ed3c27fc33f6d2727d80957536e0">dnnl::graph::op::op</a></div><div class="ttdeci">op(size_t id, kind akind, const std::string &amp;debug_string)</div><div class="ttdoc">Constructs an OP object.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:765</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1op_html_a7159cd7dfdbae7d917f48ff7a51beff8"><div class="ttname"><a href="classdnnl_1_1graph_1_1op.html#a7159cd7dfdbae7d917f48ff7a51beff8">dnnl::graph::op::add_inputs</a></div><div class="ttdeci">void add_inputs(const std::vector&lt; logical_tensor &gt; &amp;ts)</div><div class="ttdoc">Adds input logical tensors to the op.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:807</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1op_html_a8492588050f70b9bb4a27fef16c0027a"><div class="ttname"><a href="classdnnl_1_1graph_1_1op.html#a8492588050f70b9bb4a27fef16c0027a">dnnl::graph::op::add_output</a></div><div class="ttdeci">void add_output(const logical_tensor &amp;t)</div><div class="ttdoc">Adds output logical tensor to the op.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:817</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1op_html_a9afad8a6451e194fa6de1ffca1a8cf98"><div class="ttname"><a href="classdnnl_1_1graph_1_1op.html#a9afad8a6451e194fa6de1ffca1a8cf98">dnnl::graph::op::add_outputs</a></div><div class="ttdeci">void add_outputs(const std::vector&lt; logical_tensor &gt; &amp;ts)</div><div class="ttdoc">Adds output logical tensors to the op.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:825</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1op_html_ab0e18823d70c33b0882eab0557c83c09"><div class="ttname"><a href="classdnnl_1_1graph_1_1op.html#ab0e18823d70c33b0882eab0557c83c09">dnnl::graph::op::add_input</a></div><div class="ttdeci">void add_input(const logical_tensor &amp;t)</div><div class="ttdoc">Adds input logical tensor to the op.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:799</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1op_html_afbfea8e3264c3758949cbe29544126b1"><div class="ttname"><a href="classdnnl_1_1graph_1_1op.html#afbfea8e3264c3758949cbe29544126b1">dnnl::graph::op::op</a></div><div class="ttdeci">op(size_t id, kind akind, const std::vector&lt; logical_tensor &gt; &amp;inputs, const std::vector&lt; logical_tensor &gt; &amp;outputs, const std::string &amp;debug_string)</div><div class="ttdoc">Contructs an Op object based on input/output tensors and attributes.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:781</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html">dnnl::graph::partition</a></div><div class="ttdoc">A partition contains a list of OP ids.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:999</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a0f7820908672c69ce9683ab071af952d"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a0f7820908672c69ce9683ab071af952d">dnnl::graph::partition::get_out_ports</a></div><div class="ttdeci">std::vector&lt; logical_tensor &gt; get_out_ports() const</div><div class="ttdoc">Returns a list of output logical tensors from the partition.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1141</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a26da3f9fa2a6d59865e6ef4c27521892"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a26da3f9fa2a6d59865e6ef4c27521892">dnnl::graph::partition::infer_shape</a></div><div class="ttdeci">void infer_shape(const std::vector&lt; logical_tensor &gt; &amp;inputs, std::vector&lt; logical_tensor &gt; &amp;outputs) const</div><div class="ttdoc">Infer the partition's output shape.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1082</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a439c0490ea8ea85f2a12ec7b320a9a3c"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3c">dnnl::graph::partition::policy</a></div><div class="ttdeci">policy</div><div class="ttdoc">Policy specifications for partitioning.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1002</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a439c0490ea8ea85f2a12ec7b320a9a3ca051de32597041e41f73b97d61c67a13b"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3ca051de32597041e41f73b97d61c67a13b">dnnl::graph::partition::policy::fusion</a></div><div class="ttdeci">@ fusion</div><div class="ttdoc">Have fusion.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a439c0490ea8ea85f2a12ec7b320a9a3ca2ffe4e77325d9a7152f7086ea7aa5114"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3ca2ffe4e77325d9a7152f7086ea7aa5114">dnnl::graph::partition::policy::max</a></div><div class="ttdeci">@ max</div><div class="ttdoc">Best optimization for now, the max mode is just the same as fusion mode.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a439c0490ea8ea85f2a12ec7b320a9a3caad42f6697b035b7580e4fef93be20b4d"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3caad42f6697b035b7580e4fef93be20b4d">dnnl::graph::partition::policy::debug</a></div><div class="ttdeci">@ debug</div><div class="ttdoc">No optimization.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a46aec3b49987b57ff4cce53a4fccaadd"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a46aec3b49987b57ff4cce53a4fccaadd">dnnl::graph::partition::get_id</a></div><div class="ttdeci">size_t get_id() const</div><div class="ttdoc">Returns the unique id of the partition.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1058</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a51905246cf32250003073e47eb2a620a"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a51905246cf32250003073e47eb2a620a">dnnl::graph::partition::get_ops</a></div><div class="ttdeci">std::vector&lt; size_t &gt; get_ops()</div><div class="ttdoc">Returns all op’s id of the partition.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1045</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a5c2af93c65a09c9d0a1507571ada0318"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a5c2af93c65a09c9d0a1507571ada0318">dnnl::graph::partition::compile</a></div><div class="ttdeci">compiled_partition compile(const std::vector&lt; logical_tensor &gt; &amp;inputs, const std::vector&lt; logical_tensor &gt; &amp;outputs, const engine &amp;e) const</div><div class="ttdoc">Compile the partition to generate compiled partition based on the input/output logical tensors.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1073</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a606818ef956ac2956bbc74543a142abb"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a606818ef956ac2956bbc74543a142abb">dnnl::graph::partition::get_engine_kind</a></div><div class="ttdeci">engine::kind get_engine_kind() const</div><div class="ttdoc">Returns the engine kind of the partition.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1163</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_a617cb01f02a4f7fa459fb346f552cde9"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#a617cb01f02a4f7fa459fb346f552cde9">dnnl::graph::partition::partition</a></div><div class="ttdeci">partition(const op &amp;aop, engine::kind ekind)</div><div class="ttdoc">Constructs a partition with a given op and engine kind.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1023</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_ac79139d8b8cd5c70e3a1a8444fa64e7a"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#ac79139d8b8cd5c70e3a1a8444fa64e7a">dnnl::graph::partition::get_in_ports</a></div><div class="ttdeci">std::vector&lt; logical_tensor &gt; get_in_ports() const</div><div class="ttdoc">Returns a list of input logical tensors from the partition.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1120</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_ac86965ac32334fa986d0c05344617668"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#ac86965ac32334fa986d0c05344617668">dnnl::graph::partition::get_ops_num</a></div><div class="ttdeci">size_t get_ops_num() const</div><div class="ttdoc">Returns the number of dnnl graph ops in the partition.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1035</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_ac89aea74d6e45b5b0974c31ee4f756ce"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#ac89aea74d6e45b5b0974c31ee4f756ce">dnnl::graph::partition::partition</a></div><div class="ttdeci">partition(dnnl_graph_partition_t *p)</div><div class="ttdoc">Constructs a partition object.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1017</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1partition_html_ad80536833d69e2660c496adbd9ec0aa3"><div class="ttname"><a href="classdnnl_1_1graph_1_1partition.html#ad80536833d69e2660c496adbd9ec0aa3">dnnl::graph::partition::is_supported</a></div><div class="ttdeci">bool is_supported() const</div><div class="ttdoc">Returns the supporting status of the partition.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1109</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1stream_html"><div class="ttname"><a href="classdnnl_1_1graph_1_1stream.html">dnnl::graph::stream</a></div><div class="ttdoc">A stream is created on top of oneDNN graph engine.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:239</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1stream_html_a13a5aef2739b3336231457a84b9ffe34"><div class="ttname"><a href="classdnnl_1_1graph_1_1stream.html#a13a5aef2739b3336231457a84b9ffe34">dnnl::graph::stream::stream</a></div><div class="ttdeci">stream(engine &amp;engine, const stream_attr *attr=nullptr)</div><div class="ttdoc">Constructs a stream for the specified engine.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:247</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1stream_html_ab7d60e18bc09a7666c6febd47d9186a8"><div class="ttname"><a href="classdnnl_1_1graph_1_1stream.html#ab7d60e18bc09a7666c6febd47d9186a8">dnnl::graph::stream::wait</a></div><div class="ttdeci">stream &amp; wait()</div><div class="ttdoc">Waits for all compiled partitions executing in the stream to finish.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:263</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1tensor_html"><div class="ttname"><a href="classdnnl_1_1graph_1_1tensor.html">dnnl::graph::tensor</a></div><div class="ttdoc">Framework integration code is responsible for managing the tensor's, lifecycle.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:540</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1tensor_html_a5162eaf95542798d834bd8899138166e"><div class="ttname"><a href="classdnnl_1_1graph_1_1tensor.html#a5162eaf95542798d834bd8899138166e">dnnl::graph::tensor::set_data_handle</a></div><div class="ttdeci">void set_data_handle(void *handle)</div><div class="ttdoc">Sets the underlying memory buffer.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:578</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1tensor_html_a701b5fb9a6ec68fc00a826ab6a5d87db"><div class="ttname"><a href="classdnnl_1_1graph_1_1tensor.html#a701b5fb9a6ec68fc00a826ab6a5d87db">dnnl::graph::tensor::get_data_handle</a></div><div class="ttdeci">std::add_pointer&lt; T &gt;::type get_data_handle() const</div><div class="ttdoc">Returns the underlying memory buffer with the specific type.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:565</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1tensor_html_a73b101ca2e1c7766b170f611041acbb0"><div class="ttname"><a href="classdnnl_1_1graph_1_1tensor.html#a73b101ca2e1c7766b170f611041acbb0">dnnl::graph::tensor::tensor</a></div><div class="ttdeci">tensor()=default</div><div class="ttdoc">Default constructor. Constructs an empty object.</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1tensor_html_aba2680ce08d95a81dbd1d2859a43dee3"><div class="ttname"><a href="classdnnl_1_1graph_1_1tensor.html#aba2680ce08d95a81dbd1d2859a43dee3">dnnl::graph::tensor::get_element_num</a></div><div class="ttdeci">int64_t get_element_num() const</div><div class="ttdoc">Returns the number of elements in the tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:586</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1tensor_html_abb28bd68904392a996d3b69fb6d1fada"><div class="ttname"><a href="classdnnl_1_1graph_1_1tensor.html#abb28bd68904392a996d3b69fb6d1fada">dnnl::graph::tensor::tensor</a></div><div class="ttdeci">tensor(const logical_tensor &amp;lt, void *handle)</div><div class="ttdoc">Constructs a tensor object according to the given logical tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:552</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1thread__pool_html"><div class="ttname"><a href="classdnnl_1_1graph_1_1thread__pool.html">dnnl::graph::thread_pool</a></div><div class="ttdoc">Abstract threadpool interface.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:190</div></div>
<div class="ttc" id="aclassdnnl_1_1graph_1_1thread__pool_html_a12043d4d9e5201289ec915708f1b70eb"><div class="ttname"><a href="classdnnl_1_1graph_1_1thread__pool.html#a12043d4d9e5201289ec915708f1b70eb">dnnl::graph::thread_pool::thread_pool</a></div><div class="ttdeci">thread_pool(int32_t num_threads)</div><div class="ttdoc">Constructs a threadpool object.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:195</div></div>
<div class="ttc" id="adnnl__graph_8h_html"><div class="ttname"><a href="dnnl__graph_8h.html">dnnl_graph.h</a></div><div class="ttdoc">C API.</div></div>
<div class="ttc" id="adnnl__graph__base_8hpp_html"><div class="ttname"><a href="dnnl__graph__base_8hpp.html">dnnl_graph_base.hpp</a></div><div class="ttdoc">Utilities for C++ API.</div></div>
<div class="ttc" id="adnnl__graph__detail_8hpp_html"><div class="ttname"><a href="dnnl__graph__detail_8hpp.html">dnnl_graph_detail.hpp</a></div><div class="ttdoc">Utilities for C++ APIs.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__allocator_html_ga18cd0fb99e3b6ee500c849b6a100c0bc"><div class="ttname"><a href="group__dnnl__graph__api__allocator.html#ga18cd0fb99e3b6ee500c849b6a100c0bc">dnnl_graph_allocator_lifetime_t</a></div><div class="ttdeci">dnnl_graph_allocator_lifetime_t</div><div class="ttdoc">An enumeration to express the lifetime management of the allocator.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:201</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__allocator_html_ga277acb678a29f8abc514e9e30b980e05"><div class="ttname"><a href="group__dnnl__graph__api__allocator.html#ga277acb678a29f8abc514e9e30b980e05">dnnl_graph_cpu_allocate_f</a></div><div class="ttdeci">void *(* dnnl_graph_cpu_allocate_f)(size_t, dnnl_graph_allocator_attr_t)</div><div class="ttdoc">Allocation call-back function interface for CPU.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:219</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__allocator_html_ga72814446b3a0791919fc922ab5b84325"><div class="ttname"><a href="group__dnnl__graph__api__allocator.html#ga72814446b3a0791919fc922ab5b84325">dnnl_graph_allocator_create</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_allocator_create(dnnl_graph_allocator_t **created_allocator, dnnl_graph_cpu_allocate_f cpu_malloc, dnnl_graph_cpu_deallocate_f cpu_free)</div><div class="ttdoc">Initializes an allocator with the given allocation and deallocation call-back function pointers (CPU)</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__allocator_html_ga9fa70343fd7b61f3d61b6ee50019554c"><div class="ttname"><a href="group__dnnl__graph__api__allocator.html#ga9fa70343fd7b61f3d61b6ee50019554c">dnnl_graph_cpu_deallocate_f</a></div><div class="ttdeci">void(* dnnl_graph_cpu_deallocate_f)(void *)</div><div class="ttdoc">Deallocation call-back function interface for CPU.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:221</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__allocator_html_gga18cd0fb99e3b6ee500c849b6a100c0bca2ca76fa5b624d7bd8ee46cc3e55c9025"><div class="ttname"><a href="group__dnnl__graph__api__allocator.html#gga18cd0fb99e3b6ee500c849b6a100c0bca2ca76fa5b624d7bd8ee46cc3e55c9025">dnnl_graph_allocator_persistent</a></div><div class="ttdeci">@ dnnl_graph_allocator_persistent</div><div class="ttdoc">Memory allocation with persistent lifetime, need to be freed manually.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:203</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__allocator_html_gga18cd0fb99e3b6ee500c849b6a100c0bcad4428fbadc84a44b8df22a8bd6124bbd"><div class="ttname"><a href="group__dnnl__graph__api__allocator.html#gga18cd0fb99e3b6ee500c849b6a100c0bcad4428fbadc84a44b8df22a8bd6124bbd">dnnl_graph_allocator_temp</a></div><div class="ttdeci">@ dnnl_graph_allocator_temp</div><div class="ttdoc">Memory allocation with temporary lifetime.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:207</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__allocator_html_gga18cd0fb99e3b6ee500c849b6a100c0bcad601a8af8f748bb61303497cbb6b3695"><div class="ttname"><a href="group__dnnl__graph__api__allocator.html#gga18cd0fb99e3b6ee500c849b6a100c0bcad601a8af8f748bb61303497cbb6b3695">dnnl_graph_allocator_output</a></div><div class="ttdeci">@ dnnl_graph_allocator_output</div><div class="ttdoc">Memory allocation for output tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:205</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__compiled__partition__cache_html_ga2260760847caf233f319967e73811319"><div class="ttname"><a href="group__dnnl__graph__api__compiled__partition__cache.html#ga2260760847caf233f319967e73811319">dnnl::graph::set_compiled_partition_cache_capacity</a></div><div class="ttdeci">void set_compiled_partition_cache_capacity(int capacity)</div><div class="ttdoc">Sets a number of compiled partitions that can be held in the compiled partition cache at the same tim...</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1294</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__compiled__partition__cache_html_ga6a1bba962b6499e55ba1fb81692d04b7"><div class="ttname"><a href="group__dnnl__graph__api__compiled__partition__cache.html#ga6a1bba962b6499e55ba1fb81692d04b7">dnnl::graph::get_compiled_partition_cache_capacity</a></div><div class="ttdeci">int get_compiled_partition_cache_capacity()</div><div class="ttdoc">Returns the number of compiled partition that can be held in the compiled partition cache at the same...</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1285</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__compiled__partition_html_ga6195715f5461f59b5f7e0b81c94d8ad6"><div class="ttname"><a href="group__dnnl__graph__api__compiled__partition.html#ga6195715f5461f59b5f7e0b81c94d8ad6">dnnl_graph_compiled_partition_create</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_compiled_partition_create(dnnl_graph_compiled_partition_t **compiled_partition, dnnl_graph_partition_t *partition)</div><div class="ttdoc">Creates a new compiled partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__compiled__partition_html_ga894a56f124c890241eeb060be09383cf"><div class="ttname"><a href="group__dnnl__graph__api__compiled__partition.html#ga894a56f124c890241eeb060be09383cf">dnnl_graph_compiled_partition_execute</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_compiled_partition_execute(const dnnl_graph_compiled_partition_t *compiled_partition, const dnnl_graph_stream_t *stream, const uint64_t num_inputs, const dnnl_graph_tensor_t **inputs, const uint64_t num_outputs, const dnnl_graph_tensor_t **outputs)</div><div class="ttdoc">Execute a compiled partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__compiled__partition_html_ga994271650532b79c83e34a9ee6a97cec"><div class="ttname"><a href="group__dnnl__graph__api__compiled__partition.html#ga994271650532b79c83e34a9ee6a97cec">dnnl_graph_compiled_partition_get_inplace_ports</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_compiled_partition_get_inplace_ports(const dnnl_graph_compiled_partition_t *compiled_partition, size_t *num_inplace_pairs, const dnnl_graph_inplace_pair_t **inplace_pairs)</div><div class="ttdoc">Returns the in-place pairs.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__compiled__partition_html_gabb66f2bd97e30ee1578449f4b2f90fe9"><div class="ttname"><a href="group__dnnl__graph__api__compiled__partition.html#gabb66f2bd97e30ee1578449f4b2f90fe9">dnnl_graph_compiled_partition_query_logical_tensor</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_compiled_partition_query_logical_tensor(const dnnl_graph_compiled_partition_t *compiled_partition, size_t tid, dnnl_graph_logical_tensor_t *lt)</div><div class="ttdoc">Returns the logical tensor according to tensor id.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__engine_html_ga339ce372201b42af24841d1a3c809a40"><div class="ttname"><a href="group__dnnl__graph__api__engine.html#ga339ce372201b42af24841d1a3c809a40">dnnl_graph_engine_get_kind</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_engine_get_kind(const dnnl_graph_engine_t *engine, dnnl_graph_engine_kind_t *kind)</div><div class="ttdoc">Get the engine kind from an engine.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__engine_html_ga6ac1ba87052e33099253f1d21ddd0091"><div class="ttname"><a href="group__dnnl__graph__api__engine.html#ga6ac1ba87052e33099253f1d21ddd0091">dnnl_graph_engine_kind_t</a></div><div class="ttdeci">dnnl_graph_engine_kind_t</div><div class="ttdoc">Kind for engine.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:156</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__engine_html_ga8bb42d5dda3d588495b9840d7eb22da8"><div class="ttname"><a href="group__dnnl__graph__api__engine.html#ga8bb42d5dda3d588495b9840d7eb22da8">dnnl_graph_engine_get_device_id</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_engine_get_device_id(const dnnl_graph_engine_t *engine, int32_t *device_id)</div><div class="ttdoc">Get the device id from an engine.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__engine_html_gaa9db58080cc78dfcdd6a2035d2c61ee8"><div class="ttname"><a href="group__dnnl__graph__api__engine.html#gaa9db58080cc78dfcdd6a2035d2c61ee8">dnnl_graph_engine_get_device_handle</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_engine_get_device_handle(const dnnl_graph_engine_t *engine, void **handle)</div><div class="ttdoc">Get the device handle from an engine.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__engine_html_gae62032eb1c9997864d209de1023e2edd"><div class="ttname"><a href="group__dnnl__graph__api__engine.html#gae62032eb1c9997864d209de1023e2edd">dnnl_graph_engine_set_allocator</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_engine_set_allocator(dnnl_graph_engine_t *engine, dnnl_graph_allocator_t *allocator)</div><div class="ttdoc">Set an allocator to the target engine.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__engine_html_gaffbc76b0e5aaa1683475940224c7da2b"><div class="ttname"><a href="group__dnnl__graph__api__engine.html#gaffbc76b0e5aaa1683475940224c7da2b">dnnl_graph_engine_create</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_engine_create(dnnl_graph_engine_t **created_engine, dnnl_graph_engine_kind_t engine_kind, int32_t device_id)</div><div class="ttdoc">Creates an engine with specified engine kind and device id.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__engine_html_gga6ac1ba87052e33099253f1d21ddd0091a0e4015e41880cfeee945c30cbf346da2"><div class="ttname"><a href="group__dnnl__graph__api__engine.html#gga6ac1ba87052e33099253f1d21ddd0091a0e4015e41880cfeee945c30cbf346da2">dnnl_graph_gpu</a></div><div class="ttdeci">@ dnnl_graph_gpu</div><div class="ttdoc">GPU engine.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:162</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__engine_html_gga6ac1ba87052e33099253f1d21ddd0091af9de6f7a0034724c80b8e82e294407bf"><div class="ttname"><a href="group__dnnl__graph__api__engine.html#gga6ac1ba87052e33099253f1d21ddd0091af9de6f7a0034724c80b8e82e294407bf">dnnl_graph_cpu</a></div><div class="ttdeci">@ dnnl_graph_cpu</div><div class="ttdoc">CPU engine.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:160</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__engine_html_gga6ac1ba87052e33099253f1d21ddd0091aff42259487fbd9ac2cc2ce24863e155b"><div class="ttname"><a href="group__dnnl__graph__api__engine.html#gga6ac1ba87052e33099253f1d21ddd0091aff42259487fbd9ac2cc2ce24863e155b">dnnl_graph_any_engine</a></div><div class="ttdeci">@ dnnl_graph_any_engine</div><div class="ttdoc">An unspecified engine.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:158</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__graph_html_ga27e4c096e75702ef2a885c2cecd64d12"><div class="ttname"><a href="group__dnnl__graph__api__graph.html#ga27e4c096e75702ef2a885c2cecd64d12">dnnl_graph_graph_filter</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_graph_filter(dnnl_graph_graph_t *graph, dnnl_graph_partition_policy_t policy)</div><div class="ttdoc">Do graph filtering and partitioning.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__graph_html_ga46e3946d6079590f03205f660be1b5fe"><div class="ttname"><a href="group__dnnl__graph__api__graph.html#ga46e3946d6079590f03205f660be1b5fe">dnnl_graph_add_op</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_add_op(dnnl_graph_graph_t *graph, dnnl_graph_op_t *op)</div><div class="ttdoc">Add a new op to a graph.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__graph_html_gab0799273b35e51deb13ebaf510124a8b"><div class="ttname"><a href="group__dnnl__graph__api__graph.html#gab0799273b35e51deb13ebaf510124a8b">dnnl_graph_graph_get_partition_num</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_graph_get_partition_num(const dnnl_graph_graph_t *graph, uint64_t *num)</div><div class="ttdoc">Gets the number of partitions of the graph.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__graph_html_gadfe53f5827f6a1b22c6a3d379b229af9"><div class="ttname"><a href="group__dnnl__graph__api__graph.html#gadfe53f5827f6a1b22c6a3d379b229af9">dnnl_graph_graph_create</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_graph_create(dnnl_graph_graph_t **created_graph, dnnl_graph_engine_kind_t device_type)</div><div class="ttdoc">Creates a new empty graph.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__graph_html_gaf5c2c8684ac48acc413fb9cfbe699c60"><div class="ttname"><a href="group__dnnl__graph__api__graph.html#gaf5c2c8684ac48acc413fb9cfbe699c60">dnnl_graph_graph_get_partitions</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_graph_get_partitions(dnnl_graph_graph_t *graph, uint64_t num, dnnl_graph_partition_t **partition)</div><div class="ttdoc">Gets the filtered partitions of the graph.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ga2604747d72957b0d15d49b09d8b20f60"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ga2604747d72957b0d15d49b09d8b20f60">dnnl_graph_logical_tensor_init_with_dims</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_logical_tensor_init_with_dims(dnnl_graph_logical_tensor_t *created_logical_tensor, size_t tid, dnnl_graph_data_type_t dtype, int32_t ndims, const dnnl_graph_dims_t dims, dnnl_graph_layout_type_t ltype)</div><div class="ttdoc">Initializes a logical tensor with basic information and dims.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ga49497533d28f67dc4cce08fe210bf4bf"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ga49497533d28f67dc4cce08fe210bf4bf">DNNL_GRAPH_UNKNOWN_NDIMS</a></div><div class="ttdeci">#define DNNL_GRAPH_UNKNOWN_NDIMS</div><div class="ttdoc">An integer to indicate unknown number of dimensions.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:60</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ga5b552d8a81835eb955253410bf012694"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ga5b552d8a81835eb955253410bf012694">dnnl_graph_layout_type_t</a></div><div class="ttdeci">dnnl_graph_layout_type_t</div><div class="ttdoc">Layout type specification.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:234</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ga61c0ba0636701ba23ce3661020037205"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ga61c0ba0636701ba23ce3661020037205">dnnl_graph_logical_tensor_init</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_logical_tensor_init(dnnl_graph_logical_tensor_t *created_logical_tensor, size_t tid, dnnl_graph_data_type_t dtype, int32_t ndims, dnnl_graph_layout_type_t ltype)</div><div class="ttdoc">Initializes a logical tensor with id, data type, ndims, and layout type.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ga6a6391d8da643e1024e9c106f46f187f"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ga6a6391d8da643e1024e9c106f46f187f">dnnl_graph_logical_tensor_init_with_strides</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_logical_tensor_init_with_strides(dnnl_graph_logical_tensor_t *created_logical_tensor, size_t tid, dnnl_graph_data_type_t dtype, int32_t ndims, const dnnl_graph_dims_t dims, const dnnl_graph_dims_t strides)</div><div class="ttdoc">Initializes a logical tensor with basic information, dims, and strides.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_gaad147cf0f6df4b97b1c4a55b5595128b"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#gaad147cf0f6df4b97b1c4a55b5595128b">dnnl_graph_data_type_t</a></div><div class="ttdeci">dnnl_graph_data_type_t</div><div class="ttdoc">Data type specifications.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:71</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_gad56c86e048f01af22b2f576424a26960"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#gad56c86e048f01af22b2f576424a26960">dnnl_graph_logical_tensor_has_same_layout</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_logical_tensor_has_same_layout(const dnnl_graph_logical_tensor_t *lt1, const dnnl_graph_logical_tensor_t *lt2, uint8_t *is_same)</div><div class="ttdoc">Compares if this and input logical tensor has the same layout.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_gada423dbef06b45e904dc91951094e252"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#gada423dbef06b45e904dc91951094e252">dnnl_graph_logical_tensor_get_mem_size</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_logical_tensor_get_mem_size(const dnnl_graph_logical_tensor_t *logical_tensor, size_t *size)</div><div class="ttdoc">Returns the memory size described by the logical tensor.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_gga5b552d8a81835eb955253410bf012694a214016e723853d6d9d753871cd5f25b7"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#gga5b552d8a81835eb955253410bf012694a214016e723853d6d9d753871cd5f25b7">dnnl_graph_layout_type_opaque</a></div><div class="ttdeci">@ dnnl_graph_layout_type_opaque</div><div class="ttdoc">opaque means that the layout is a target-specific layout decided by oneDNN graph implementation.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:244</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_gga5b552d8a81835eb955253410bf012694a77482f385c4f7969285a99a06a3f3637"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#gga5b552d8a81835eb955253410bf012694a77482f385c4f7969285a99a06a3f3637">dnnl_graph_layout_type_undef</a></div><div class="ttdeci">@ dnnl_graph_layout_type_undef</div><div class="ttdoc">undefined layout type</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:236</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_gga5b552d8a81835eb955253410bf012694aa9ea14026cc47aafffdcb92c00a1b1ea"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#gga5b552d8a81835eb955253410bf012694aa9ea14026cc47aafffdcb92c00a1b1ea">dnnl_graph_layout_type_strided</a></div><div class="ttdeci">@ dnnl_graph_layout_type_strided</div><div class="ttdoc">strided means that the layout is determined by the strides field.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:241</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_gga5b552d8a81835eb955253410bf012694afc5178ef75924c4f130c70cf7b223203"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#gga5b552d8a81835eb955253410bf012694afc5178ef75924c4f130c70cf7b223203">dnnl_graph_layout_type_any</a></div><div class="ttdeci">@ dnnl_graph_layout_type_any</div><div class="ttdoc">any means that oneDNN graph implementation needs to decide the layout for the compiled partition.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:239</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ggaad147cf0f6df4b97b1c4a55b5595128ba227e76d5f17ab7f119a2df6c6f1a970d"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128ba227e76d5f17ab7f119a2df6c6f1a970d">dnnl_graph_u8</a></div><div class="ttdeci">@ dnnl_graph_u8</div><div class="ttdoc">8-bit unsigned integer.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:85</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ggaad147cf0f6df4b97b1c4a55b5595128ba56653443253e9e1818b3c95dd917b764"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128ba56653443253e9e1818b3c95dd917b764">dnnl_graph_data_type_undef</a></div><div class="ttdeci">@ dnnl_graph_data_type_undef</div><div class="ttdoc">undefined data type for initialization</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:73</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ggaad147cf0f6df4b97b1c4a55b5595128ba62ac0f4fac4045316db2f725944e6c61"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128ba62ac0f4fac4045316db2f725944e6c61">dnnl_graph_f32</a></div><div class="ttdeci">@ dnnl_graph_f32</div><div class="ttdoc">32-bit/single-precision floating point.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:79</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ggaad147cf0f6df4b97b1c4a55b5595128ba79564522e8d6d0d51a23e23186c6afff"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128ba79564522e8d6d0d51a23e23186c6afff">dnnl_graph_s32</a></div><div class="ttdeci">@ dnnl_graph_s32</div><div class="ttdoc">32-bit signed integer.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:81</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ggaad147cf0f6df4b97b1c4a55b5595128ba90b450c93fb29b19d97865322b5da00e"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128ba90b450c93fb29b19d97865322b5da00e">dnnl_graph_bf16</a></div><div class="ttdeci">@ dnnl_graph_bf16</div><div class="ttdoc">non-standard 16-bit (bfloat16 w/ 7 bit mantissa) floating point.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:77</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ggaad147cf0f6df4b97b1c4a55b5595128baa05215fe67e0905f6d4077f8241f8121"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128baa05215fe67e0905f6d4077f8241f8121">dnnl_graph_s8</a></div><div class="ttdeci">@ dnnl_graph_s8</div><div class="ttdoc">8-bit signed integer.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:83</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__logical__tensor_html_ggaad147cf0f6df4b97b1c4a55b5595128baf69804068556c6569c4e03cc9a9195f0"><div class="ttname"><a href="group__dnnl__graph__api__logical__tensor.html#ggaad147cf0f6df4b97b1c4a55b5595128baf69804068556c6569c4e03cc9a9195f0">dnnl_graph_f16</a></div><div class="ttdeci">@ dnnl_graph_f16</div><div class="ttdoc">16-bit/half-precision floating point.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:75</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_ga057fa366160206d52e4dbd05443a8b01"><div class="ttname"><a href="group__dnnl__graph__api__op.html#ga057fa366160206d52e4dbd05443a8b01">dnnl_graph_op_get_id</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_op_get_id(const dnnl_graph_op_t *op, size_t *id)</div><div class="ttdoc">Returns the unique id of the Op.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_ga56fcbd336ee8259ef768a78ac21387ef"><div class="ttname"><a href="group__dnnl__graph__api__op.html#ga56fcbd336ee8259ef768a78ac21387ef">dnnl_graph_attribute_kind_t</a></div><div class="ttdeci">dnnl_graph_attribute_kind_t</div><div class="ttdoc">Kind for op's attributes.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:180</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_ga862fb0704b7712f99ec60d7a9c4a70ac"><div class="ttname"><a href="group__dnnl__graph__api__op.html#ga862fb0704b7712f99ec60d7a9c4a70ac">dnnl_graph_op_add_attr</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_op_add_attr(dnnl_graph_op_t *op, const char *name, dnnl_graph_attribute_kind_t kind, const void *attr, int64_t attr_no)</div><div class="ttdoc">Sets the attribute according to the name and kind.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gaa04492222b1da2e74ed6c8e0e13d7ea3"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gaa04492222b1da2e74ed6c8e0e13d7ea3">dnnl_graph_op_create</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_op_create(dnnl_graph_op_t **created_op, uint64_t id, dnnl_graph_op_kind_t kind, const char *const debug_string)</div><div class="ttdoc">Initializes an op with unique id, kind and debug string.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gaba3df243e99ff3462a30c2d68b517d55"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gaba3df243e99ff3462a30c2d68b517d55">dnnl_graph_op_get_kind</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_op_get_kind(const dnnl_graph_op_t *op, dnnl_graph_op_kind_t *kind)</div><div class="ttdoc">Returns the concrete kind of this op.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gac4e6257c11f83655f5a75dd538f16938"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gac4e6257c11f83655f5a75dd538f16938">dnnl_graph_op_add_input</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_op_add_input(dnnl_graph_op_t *op, const dnnl_graph_logical_tensor_t *input)</div><div class="ttdoc">Adds input logical tensor to the op.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gad3d8d1611b566cade947d9d30225d5b2"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gad3d8d1611b566cade947d9d30225d5b2">dnnl_graph_op_kind_t</a></div><div class="ttdeci">dnnl_graph_op_kind_t</div><div class="ttdoc">Enumeration for op kind.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:171</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gaf57b836c94bc9974da2da67a0a68baf2"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gaf57b836c94bc9974da2da67a0a68baf2">dnnl_graph_op_add_output</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_op_add_output(dnnl_graph_op_t *op, const dnnl_graph_logical_tensor_t *output)</div><div class="ttdoc">Adds output logical tensor to the op.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gga56fcbd336ee8259ef768a78ac21387efa0b471cdaa3ee55db0c667f26e0973dbc"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efa0b471cdaa3ee55db0c667f26e0973dbc">dnnl_graph_attribute_kind_is</a></div><div class="ttdeci">@ dnnl_graph_attribute_kind_is</div><div class="ttdoc">atributes with list of int64_t</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:188</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gga56fcbd336ee8259ef768a78ac21387efa2092f0d1b6566fe908698e33aab8e3b1"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efa2092f0d1b6566fe908698e33aab8e3b1">dnnl_graph_attribute_kind_fs</a></div><div class="ttdeci">@ dnnl_graph_attribute_kind_fs</div><div class="ttdoc">atributes with list of floats</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:184</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gga56fcbd336ee8259ef768a78ac21387efa5c446fd6f0882f92546239ffddad2451"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efa5c446fd6f0882f92546239ffddad2451">dnnl_graph_attribute_kind_i</a></div><div class="ttdeci">@ dnnl_graph_attribute_kind_i</div><div class="ttdoc">attributes with int64_t type</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:186</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gga56fcbd336ee8259ef768a78ac21387efa5f2ffc9a38e9d53cfe93fe94204489a4"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efa5f2ffc9a38e9d53cfe93fe94204489a4">dnnl_graph_attribute_kind_s</a></div><div class="ttdeci">@ dnnl_graph_attribute_kind_s</div><div class="ttdoc">attributes with string type</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:190</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gga56fcbd336ee8259ef768a78ac21387efa9abeaac3317b9483486cf9ebdf1e4502"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efa9abeaac3317b9483486cf9ebdf1e4502">dnnl_graph_attribute_kind_f</a></div><div class="ttdeci">@ dnnl_graph_attribute_kind_f</div><div class="ttdoc">attributes with float type</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:182</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__op_html_gga56fcbd336ee8259ef768a78ac21387efab55cf1bd7cd08e712c457ae098b67b99"><div class="ttname"><a href="group__dnnl__graph__api__op.html#gga56fcbd336ee8259ef768a78ac21387efab55cf1bd7cd08e712c457ae098b67b99">dnnl_graph_attribute_kind_b</a></div><div class="ttdeci">@ dnnl_graph_attribute_kind_b</div><div class="ttdoc">attributes with bool type</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:192</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_ga1612b203031a0f9068c22a780784104a"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#ga1612b203031a0f9068c22a780784104a">dnnl_graph_partition_get_out_ports_num</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_get_out_ports_num(const dnnl_graph_partition_t *partition, uint64_t *num)</div><div class="ttdoc">Returns the number of output logical tensors of the partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_ga336a0d637328ad31ed081b087c20048d"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#ga336a0d637328ad31ed081b087c20048d">dnnl_graph_partition_is_supported</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_is_supported(const dnnl_graph_partition_t *partition, uint8_t *is_supported)</div><div class="ttdoc">Returns the supporting status of the partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_ga3476590fa91ddfc5083760a5195b92f3"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#ga3476590fa91ddfc5083760a5195b92f3">dnnl_graph_partition_infer_shape</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_infer_shape(dnnl_graph_partition_t *partition, uint64_t in_num, const dnnl_graph_logical_tensor_t **inputs, uint64_t out_num, dnnl_graph_logical_tensor_t **outputs)</div><div class="ttdoc">Infer the shape of the output logical tensors of a partition with given input logical tensors.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_ga35581ae03ac8606c1bcb52e4c6ee8d8a"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#ga35581ae03ac8606c1bcb52e4c6ee8d8a">dnnl_graph_partition_get_ops</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_get_ops(dnnl_graph_partition_t *partition, size_t num, size_t *ids)</div><div class="ttdoc">Returns the list of op IDs of the partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_ga3afe11a0ff7327afa710dfbb28c5660c"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#ga3afe11a0ff7327afa710dfbb28c5660c">dnnl_graph_partition_get_engine_kind</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_get_engine_kind(const dnnl_graph_partition_t *partition, dnnl_graph_engine_kind_t *kind)</div><div class="ttdoc">Returns the engine kind of the partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_ga3f3d3e8b22af1c0d25c65b88c47cfd24"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#ga3f3d3e8b22af1c0d25c65b88c47cfd24">dnnl_graph_partition_get_in_ports_num</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_get_in_ports_num(const dnnl_graph_partition_t *partition, uint64_t *num)</div><div class="ttdoc">Returns the number of input logical tensors of the partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_ga40fd33f6088ea8ceb650a6a5c9849dd1"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#ga40fd33f6088ea8ceb650a6a5c9849dd1">dnnl_graph_partition_get_out_ports</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_get_out_ports(const dnnl_graph_partition_t *partition, uint64_t num, dnnl_graph_logical_tensor_t *outputs)</div><div class="ttdoc">Returns a list of output logical tensors from the partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_ga4112947b57e9a6c12e3a2607e4efb1a9"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#ga4112947b57e9a6c12e3a2607e4efb1a9">dnnl_graph_partition_get_id</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_get_id(const dnnl_graph_partition_t *partition, size_t *id)</div><div class="ttdoc">Returns the ID of the partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_ga74761e9b65b0a448fbd8b67440c65d97"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#ga74761e9b65b0a448fbd8b67440c65d97">dnnl_graph_partition_get_in_ports</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_get_in_ports(const dnnl_graph_partition_t *partition, uint64_t num, dnnl_graph_logical_tensor_t *inputs)</div><div class="ttdoc">Returns a list of input logical tensors from the partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_ga7e24b277b64600ef3a83dac2e8dfa83b"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#ga7e24b277b64600ef3a83dac2e8dfa83b">dnnl_graph_partition_policy_t</a></div><div class="ttdeci">dnnl_graph_partition_policy_t</div><div class="ttdoc">Policy specifications for partitioning.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:94</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_gabdd1e8735d0f2f72165da4c2458121e0"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#gabdd1e8735d0f2f72165da4c2458121e0">dnnl_graph_partition_create</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_create(dnnl_graph_partition_t **partition)</div><div class="ttdoc">Creates a new empty partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_gac83bd7f73ce79908254aa98e967b0559"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#gac83bd7f73ce79908254aa98e967b0559">dnnl_graph_partition_compile</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_compile(dnnl_graph_partition_t *partition, dnnl_graph_compiled_partition_t *compiled_partition, uint64_t in_num, const dnnl_graph_logical_tensor_t **inputs, uint64_t out_num, const dnnl_graph_logical_tensor_t **outputs, const dnnl_graph_engine_t *engine)</div><div class="ttdoc">Compile the partition with given input and output logical tensors.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_gadb4609ba2c51136c35b6fb9d8b11fa9e"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#gadb4609ba2c51136c35b6fb9d8b11fa9e">dnnl_graph_partition_create_with_op</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_create_with_op(dnnl_graph_partition_t **partition, const dnnl_graph_op_t *op, dnnl_graph_engine_kind_t ekind)</div><div class="ttdoc">Creates a new partition with a given operator and engine kind.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_gae377c7c97821f6ee0f30fe629ba30d88"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#gae377c7c97821f6ee0f30fe629ba30d88">dnnl_graph_partition_get_op_num</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_partition_get_op_num(const dnnl_graph_partition_t *partition, size_t *num)</div><div class="ttdoc">Returns the number of ops of the partition.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_gga7e24b277b64600ef3a83dac2e8dfa83ba1489f3f9bb1262b58fa0bf0524d883a4"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#gga7e24b277b64600ef3a83dac2e8dfa83ba1489f3f9bb1262b58fa0bf0524d883a4">dnnl_graph_partition_policy_fusion</a></div><div class="ttdeci">@ dnnl_graph_partition_policy_fusion</div><div class="ttdoc">Have fusion.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:98</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_gga7e24b277b64600ef3a83dac2e8dfa83ba5f841a05c0fc7df9bc023359f49ca3a0"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#gga7e24b277b64600ef3a83dac2e8dfa83ba5f841a05c0fc7df9bc023359f49ca3a0">dnnl_graph_partition_policy_debug</a></div><div class="ttdeci">@ dnnl_graph_partition_policy_debug</div><div class="ttdoc">No optimization.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:100</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__partition_html_gga7e24b277b64600ef3a83dac2e8dfa83ba9f41a38f43daa29732ac671080008b54"><div class="ttname"><a href="group__dnnl__graph__api__partition.html#gga7e24b277b64600ef3a83dac2e8dfa83ba9f41a38f43daa29732ac671080008b54">dnnl_graph_partition_policy_max</a></div><div class="ttdeci">@ dnnl_graph_partition_policy_max</div><div class="ttdoc">Best optimization.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:96</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__service_html_ga3750ee36ca62094fde1728e8589f18c9"><div class="ttname"><a href="group__dnnl__graph__api__service.html#ga3750ee36ca62094fde1728e8589f18c9">dnnl_graph_version</a></div><div class="ttdeci">const dnnl_graph_version_t DNNL_GRAPH_API * dnnl_graph_version(void)</div><div class="ttdoc">Returns library version information.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__service_html_ga510ae6f05b22657234d415a88f610aff"><div class="ttname"><a href="group__dnnl__graph__api__service.html#ga510ae6f05b22657234d415a88f610aff">dnnl::graph::version</a></div><div class="ttdeci">const version_t * version()</div><div class="ttdoc">Returns library version information.</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1312</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__stream__attr_html_gad4abeb75154dc5cf5681783a30a4ea79"><div class="ttname"><a href="group__dnnl__graph__api__stream__attr.html#gad4abeb75154dc5cf5681783a30a4ea79">dnnl_graph_stream_attr_create</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_stream_attr_create(dnnl_graph_stream_attr_t **created_stream_attr, dnnl_graph_thread_pool_t *thread_pool)</div><div class="ttdoc">Creates a stream attribute with specified thread pool.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__stream_html_ga487693400b4ececd3041bc44c1b3a3cb"><div class="ttname"><a href="group__dnnl__graph__api__stream.html#ga487693400b4ececd3041bc44c1b3a3cb">dnnl_graph_stream_wait</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_stream_wait(dnnl_graph_stream_t *stream)</div><div class="ttdoc">Waits for all compiled partitions executing in the stream to finish.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__stream_html_ga4a26dba04ce46f20a94f0fd54f5d0988"><div class="ttname"><a href="group__dnnl__graph__api__stream.html#ga4a26dba04ce46f20a94f0fd54f5d0988">dnnl_graph_stream_create_with_attr</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_stream_create_with_attr(dnnl_graph_stream_t **created_stream, const dnnl_graph_engine_t *engine, const dnnl_graph_stream_attr_t *attr)</div><div class="ttdoc">Creates a stream for the specified engine and with behavior controlled by the stream attribute.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__stream_html_ga9c7b4e3da3ff11defad596b68a389d6a"><div class="ttname"><a href="group__dnnl__graph__api__stream.html#ga9c7b4e3da3ff11defad596b68a389d6a">dnnl_graph_stream_create</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_stream_create(dnnl_graph_stream_t **created_stream, const dnnl_graph_engine_t *engine)</div><div class="ttdoc">Creates a stream for the specified engine.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__tensor_html_ga37b8d6d2b26f9f7c3fd57f8defad1aaf"><div class="ttname"><a href="group__dnnl__graph__api__tensor.html#ga37b8d6d2b26f9f7c3fd57f8defad1aaf">dnnl_graph_tensor_get_if_type</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_tensor_get_if_type(const dnnl_graph_tensor_t *tensor, dnnl_graph_data_type_t type, void **data_handle)</div><div class="ttdoc">Gets data handle of tensor, if type doesn't match tensor's data type, nullptr will be returned.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__tensor_html_ga6f8a4fd97dc9b98fbc8550e35a4460f0"><div class="ttname"><a href="group__dnnl__graph__api__tensor.html#ga6f8a4fd97dc9b98fbc8550e35a4460f0">dnnl_graph_tensor_get_element_num</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_tensor_get_element_num(const dnnl_graph_tensor_t *tensor, int64_t *no)</div><div class="ttdoc">Gets number of elements of the tensor.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__tensor_html_gacfd19121e08ad87a25d372b206de8232"><div class="ttname"><a href="group__dnnl__graph__api__tensor.html#gacfd19121e08ad87a25d372b206de8232">dnnl_graph_tensor_create_with_logical_tensor</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_tensor_create_with_logical_tensor(dnnl_graph_tensor_t **created_tensor, const dnnl_graph_logical_tensor_t *logical_tensor, void *data_handle)</div><div class="ttdoc">Initializes a tensor with logical tensor and data handle.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__tensor_html_gaf5310ab6e99ea52f23f02278f215fef6"><div class="ttname"><a href="group__dnnl__graph__api__tensor.html#gaf5310ab6e99ea52f23f02278f215fef6">dnnl_graph_tensor_set_data_handle</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_tensor_set_data_handle(dnnl_graph_tensor_t *tensor, void *data_handle)</div><div class="ttdoc">Set data handle for tensor.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__threadpool_html_gac2cc6dff277b8d75220e43f14cd24984"><div class="ttname"><a href="group__dnnl__graph__api__threadpool.html#gac2cc6dff277b8d75220e43f14cd24984">dnnl_graph_thread_pool_create</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_thread_pool_create(dnnl_graph_thread_pool_t **created_thread_pool, int32_t num_threads)</div><div class="ttdoc">Creates a thread pool.</div></div>
<div class="ttc" id="agroup__dnnl__graph__api__utils_html_gga9921e7e7d35d4eb62f1acbb55a639c0dad98de981a777409afd159ea1537900a5"><div class="ttname"><a href="group__dnnl__graph__api__utils.html#gga9921e7e7d35d4eb62f1acbb55a639c0dad98de981a777409afd159ea1537900a5">dnnl_graph_result_error_invalid_argument</a></div><div class="ttdeci">@ dnnl_graph_result_error_invalid_argument</div><div class="ttdoc">The operation failed because of incorrect function arguments.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:119</div></div>
<div class="ttc" id="agroup__dnnl__graph__compiled__partition__cache_html_gaa0a9ac274341b33fee47817108af6473"><div class="ttname"><a href="group__dnnl__graph__compiled__partition__cache.html#gaa0a9ac274341b33fee47817108af6473">dnnl_graph_set_compiled_partition_cache_capacity</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_set_compiled_partition_cache_capacity(int capacity)</div><div class="ttdoc">Sets a number of compiled partitions that can be held in the compiled partition cache at the same tim...</div></div>
<div class="ttc" id="agroup__dnnl__graph__compiled__partition__cache_html_gab8d486a9bab60abb9991195d771d60d6"><div class="ttname"><a href="group__dnnl__graph__compiled__partition__cache.html#gab8d486a9bab60abb9991195d771d60d6">dnnl_graph_get_compiled_partition_cache_capacity</a></div><div class="ttdeci">dnnl_graph_result_t DNNL_GRAPH_API dnnl_graph_get_compiled_partition_cache_capacity(int *capacity)</div><div class="ttdoc">Returns the number of compiled partitions that can be held in the compiled partition cache at the sam...</div></div>
<div class="ttc" id="anamespaceoneapi_html"><div class="ttname"><a href="namespaceoneapi.html">oneapi</a></div><div class="ttdoc">oneAPI namespace</div><div class="ttdef"><b>Definition:</b> dnnl_graph.hpp:1323</div></div>
<div class="ttc" id="astructdnnl_1_1graph_1_1error_html_a70b0246598a73263e697c7b0b5d3b15d"><div class="ttname"><a href="structdnnl_1_1graph_1_1error.html#a70b0246598a73263e697c7b0b5d3b15d">dnnl::graph::error::check_succeed</a></div><div class="ttdeci">static void check_succeed(dnnl_graph_result_t result, const std::string &amp;message)</div><div class="ttdoc">Checks the return status and throws an error in case of failure.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_base.hpp:91</div></div>
<div class="ttc" id="astructdnnl__graph__allocator__attr__t_html"><div class="ttname"><a href="structdnnl__graph__allocator__attr__t.html">dnnl_graph_allocator_attr_t</a></div><div class="ttdoc">An attribute struct associated with allocator.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:211</div></div>
<div class="ttc" id="astructdnnl__graph__inplace__pair__t_html"><div class="ttname"><a href="structdnnl__graph__inplace__pair__t.html">dnnl_graph_inplace_pair_t</a></div><div class="ttdoc">In-place pair definition.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:280</div></div>
<div class="ttc" id="astructdnnl__graph__inplace__pair__t_html_a84ebe0ca00ced21da42ac13f781acf21"><div class="ttname"><a href="structdnnl__graph__inplace__pair__t.html#a84ebe0ca00ced21da42ac13f781acf21">dnnl_graph_inplace_pair_t::input</a></div><div class="ttdeci">size_t input</div><div class="ttdoc">The id of input tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:282</div></div>
<div class="ttc" id="astructdnnl__graph__inplace__pair__t_html_ad40d913e7c8e7ce96c328b50fd419c79"><div class="ttname"><a href="structdnnl__graph__inplace__pair__t.html#ad40d913e7c8e7ce96c328b50fd419c79">dnnl_graph_inplace_pair_t::output</a></div><div class="ttdeci">size_t output</div><div class="ttdoc">The id of output tensor.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:285</div></div>
<div class="ttc" id="astructdnnl__graph__logical__tensor__t_html"><div class="ttname"><a href="structdnnl__graph__logical__tensor__t.html">dnnl_graph_logical_tensor_t</a></div><div class="ttdoc">logical tensor definition</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:248</div></div>
<div class="ttc" id="astructdnnl__graph__logical__tensor__t_html_a1bbfabf5b9f46920c4392e45a8e74df3"><div class="ttname"><a href="structdnnl__graph__logical__tensor__t.html#a1bbfabf5b9f46920c4392e45a8e74df3">dnnl_graph_logical_tensor_t::dims</a></div><div class="ttdeci">dnnl_graph_dims_t dims</div><div class="ttdoc">Size of each dimension. -1 means the size is unknown on the axis.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:256</div></div>
<div class="ttc" id="astructdnnl__graph__logical__tensor__t_html_a26530b8801400b039fa1a806a210a065"><div class="ttname"><a href="structdnnl__graph__logical__tensor__t.html#a26530b8801400b039fa1a806a210a065">dnnl_graph_logical_tensor_t::strides</a></div><div class="ttdeci">dnnl_graph_dims_t strides</div><div class="ttdoc">Valid when layout_type is dnnl_graph_strided.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:266</div></div>
<div class="ttc" id="astructdnnl__graph__logical__tensor__t_html_a35ea59fc96c5ac3bdab66f9cc8a43b14"><div class="ttname"><a href="structdnnl__graph__logical__tensor__t.html#a35ea59fc96c5ac3bdab66f9cc8a43b14">dnnl_graph_logical_tensor_t::id</a></div><div class="ttdeci">size_t id</div><div class="ttdoc">Unique id of each logical tensor. Provided by framework.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:250</div></div>
<div class="ttc" id="astructdnnl__graph__logical__tensor__t_html_a37a78e06b8b94559db6a33f5b159f5d2"><div class="ttname"><a href="structdnnl__graph__logical__tensor__t.html#a37a78e06b8b94559db6a33f5b159f5d2">dnnl_graph_logical_tensor_t::ndims</a></div><div class="ttdeci">int32_t ndims</div><div class="ttdoc">Number of dimension. Default -1 means not initialized.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:253</div></div>
<div class="ttc" id="astructdnnl__graph__logical__tensor__t_html_a5e8dd6031f49c19cc2920e26c08f3be9"><div class="ttname"><a href="structdnnl__graph__logical__tensor__t.html#a5e8dd6031f49c19cc2920e26c08f3be9">dnnl_graph_logical_tensor_t::layout_type</a></div><div class="ttdeci">dnnl_graph_layout_type_t layout_type</div><div class="ttdoc">Layout type of the tensor: any, strided, or opaque.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:262</div></div>
<div class="ttc" id="astructdnnl__graph__logical__tensor__t_html_a660e336ecc3a5ff64c82723b9ea44c9b"><div class="ttname"><a href="structdnnl__graph__logical__tensor__t.html#a660e336ecc3a5ff64c82723b9ea44c9b">dnnl_graph_logical_tensor_t::data_type</a></div><div class="ttdeci">dnnl_graph_data_type_t data_type</div><div class="ttdoc">Data type of the tensor elements.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:259</div></div>
<div class="ttc" id="astructdnnl__graph__logical__tensor__t_html_af34771bd93bbd3ff1f40a5b3ac60b109"><div class="ttname"><a href="structdnnl__graph__logical__tensor__t.html#af34771bd93bbd3ff1f40a5b3ac60b109">dnnl_graph_logical_tensor_t::layout_id</a></div><div class="ttdeci">int64_t layout_id</div><div class="ttdoc">Valid when layout_type is dnnl_graph_opaque.</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:270</div></div>
<div class="ttc" id="astructdnnl__graph__version__t_html"><div class="ttname"><a href="structdnnl__graph__version__t.html">dnnl_graph_version_t</a></div><div class="ttdoc">Structure containing version information as per Semantic Versioning</div><div class="ttdef"><b>Definition:</b> dnnl_graph_types.h:339</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="footer">
    <script>
        $('#top').prependTo($('#side-nav'));
    </script>
    <div class="footer-wrapper">
        <hr>
        <ul class="footer-links">
            <li><a href="legal_information.html">Legal information</a></li>
        </ul>
    </div>
</div>