<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>oneDNN Graph: dnnl::graph::context Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script src="assets/mathjax/MathJax.js?config=TeX-AMS_CHTML,dnnl"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="assets/customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="assets/dnn.js"></script>
</head>
<body>
<div class="mobile-nav"><i id="nav-btn"></i><a href="index.html">oneAPI Deep Neural Network Library Graph API (oneDNN Graph)</a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname">
     <a href="index.html">
      <div id="full-name">oneAPI Deep Neural Network Library Graph API (oneDNN Graph)</div>
    </a>
   </div>
   <div id="projectbrief">Performance Library for DNN Graph Optimization</div>
   <div id="projectnumber">0.9.0</div>
  <div>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdnnl_1_1graph_1_1context.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdnnl_1_1graph_1_1context-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dnnl::graph::context Class Reference<div class="ingroups"><a class="el" href="group__dnnl__graph__api__context.html">Context</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Context.  
 <a href="classdnnl_1_1graph_1_1context.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dnnl__graph_8hpp_source.html">dnnl_graph.hpp</a>&gt;</code></p>

<p>Inherits detail::compilation_context_handle.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9250f9f7ed0a5d29f19a7f7488edf33c"><td class="memItemLeft" align="right" valign="top"><a id="a9250f9f7ed0a5d29f19a7f7488edf33c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1context.html#a9250f9f7ed0a5d29f19a7f7488edf33c">context</a> ()</td></tr>
<tr class="memdesc:a9250f9f7ed0a5d29f19a7f7488edf33c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an empty context. <br /></td></tr>
<tr class="separator:a9250f9f7ed0a5d29f19a7f7488edf33c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a65e4f52e83cd483417924797cdab5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1context.html#ac0a65e4f52e83cd483417924797cdab5">context</a> (<a class="el" href="group__dnnl__graph__api__partition.html#ga0fd04f955396703b1a6ff0b27f2fe638">dnnl_graph_compilation_context_t</a> ctx)</td></tr>
<tr class="memdesc:ac0a65e4f52e83cd483417924797cdab5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a context object for C data.  <a href="classdnnl_1_1graph_1_1context.html#ac0a65e4f52e83cd483417924797cdab5">More...</a><br /></td></tr>
<tr class="separator:ac0a65e4f52e83cd483417924797cdab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49cea6575375b7a2447820e10972c62d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1context.html#a49cea6575375b7a2447820e10972c62d">set_tensor_data_handle</a> (size_t id, void *handle)</td></tr>
<tr class="memdesc:a49cea6575375b7a2447820e10972c62d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets tensor data handle to a context.  <a href="classdnnl_1_1graph_1_1context.html#a49cea6575375b7a2447820e10972c62d">More...</a><br /></td></tr>
<tr class="separator:a49cea6575375b7a2447820e10972c62d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Context. </p>
<p>It contains useful context information for compilation. Currently, it supports passing tensor content. For example, DynamicReshape has a required shape input, but this shape is stored in a tensor and can be accessed until execution stage. Users can pass the shape tensor content to through context.</p>
<p>Considering the content in context is critical to compilation, it will be part of compiled partition cache key. That means, if users compile a partition with different context twice time, the compiled partition cache will be missed and recompilation will happen. Users should guarantee the content in context is kept unchanged during each <code>compilation-execution</code> period.</p>
<p>Users can specify the content for any input tensors, but not all of them are critical to compilation. For example, the content of input shape is important for the library to generate kernels for DynamicReshape operation while the content of input data is not useful. Another example is the constant weight tensor for Convolution operation in inference mode, typically it's not critical for kernel generation but it still exposes an optimization opportunity to the library by reordering or freezing the constant weight tensor at compilation stage.</p>
<p>The context can also be used to pass tensor content in API <a class="el" href="classdnnl_1_1graph_1_1compiled__partition.html#ae10531074011ff55eff5257b6982f6cf">dnnl::graph::compiled_partition::query_dynamic_outputs</a>. It allows user to query output shapes according to given tensor content provided at execution stage. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac0a65e4f52e83cd483417924797cdab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0a65e4f52e83cd483417924797cdab5">&#9670;&nbsp;</a></span>context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dnnl::graph::context::context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__dnnl__graph__api__partition.html#ga0fd04f955396703b1a6ff0b27f2fe638">dnnl_graph_compilation_context_t</a>&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a context object for C data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>A raw pointer to the C API handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a49cea6575375b7a2447820e10972c62d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49cea6575375b7a2447820e10972c62d">&#9670;&nbsp;</a></span>set_tensor_data_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dnnl::graph::context::set_tensor_data_handle </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets tensor data handle to a context. </p>
<p>This handle will be interpreted according to the logical tensor specified by the given id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Logical tensor id </td></tr>
    <tr><td class="paramname">handle</td><td>A raw pointer to tensor buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/oneapi/dnnl/<a class="el" href="dnnl__graph_8hpp_source.html">dnnl_graph.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="footer">
    <script>
        $('#top').prependTo($('#side-nav'));
    </script>
    <div class="footer-wrapper">
        <hr>
        <ul class="footer-links">
            <li><a href="legal_information.html">Legal information</a></li>
        </ul>
    </div>
</div>