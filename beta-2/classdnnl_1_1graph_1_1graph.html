<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>oneDNN Graph: dnnl::graph::graph Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script src="assets/mathjax/MathJax.js?config=TeX-AMS_CHTML,dnnl"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="assets/customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="assets/dnn.js"></script>
</head>
<body>
<div class="mobile-nav"><i id="nav-btn"></i><a href="index.html">oneAPI Deep Neural Network Library Graph API (oneDNN Graph)</a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname">
     <a href="index.html">
      <div id="full-name">oneAPI Deep Neural Network Library Graph API (oneDNN Graph)</div>
    </a>
   </div>
   <div id="projectbrief">Performance Library for DNN Graph Optimization</div>
   <div id="projectnumber">0.7.2</div>
  <div>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdnnl_1_1graph_1_1graph.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdnnl_1_1graph_1_1graph-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dnnl::graph::graph Class Reference<div class="ingroups"><a class="el" href="group__dnnl__graph__api.html">oneDNN Graph API</a> &raquo; <a class="el" href="group__dnnl__graph__api__graph.html">Graph</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A graph object.  
 <a href="classdnnl_1_1graph_1_1graph.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dnnl__graph_8hpp_source.html">dnnl_graph.hpp</a>&gt;</code></p>

<p>Inherits detail::graph_handle.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:afcaee2f61d1dbfbe8d3399c10a930c28"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1graph.html#afcaee2f61d1dbfbe8d3399c10a930c28">fpmath_mode</a> </td></tr>
<tr class="memdesc:afcaee2f61d1dbfbe8d3399c10a930c28"><td class="mdescLeft">&#160;</td><td class="mdescRight">floating-point math mode.  <a href="classdnnl_1_1graph_1_1graph.html#afcaee2f61d1dbfbe8d3399c10a930c28">More...</a><br /></td></tr>
<tr class="separator:afcaee2f61d1dbfbe8d3399c10a930c28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab9989b31612c971d723b21bce61f3812"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1graph.html#ab9989b31612c971d723b21bce61f3812">graph</a> (<a class="el" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a> engine_kind)</td></tr>
<tr class="memdesc:ab9989b31612c971d723b21bce61f3812"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a graph with an engine kind.  <a href="classdnnl_1_1graph_1_1graph.html#ab9989b31612c971d723b21bce61f3812">More...</a><br /></td></tr>
<tr class="separator:ab9989b31612c971d723b21bce61f3812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af26fca906c40d577ae129c635bc08039"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1graph.html#af26fca906c40d577ae129c635bc08039">graph</a> (<a class="el" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a> engine_kind, <a class="el" href="classdnnl_1_1graph_1_1graph.html#afcaee2f61d1dbfbe8d3399c10a930c28">fpmath_mode</a> mode)</td></tr>
<tr class="memdesc:af26fca906c40d577ae129c635bc08039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new empty graph with an engine kind and a floating-point math mode.  <a href="classdnnl_1_1graph_1_1graph.html#af26fca906c40d577ae129c635bc08039">More...</a><br /></td></tr>
<tr class="separator:af26fca906c40d577ae129c635bc08039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cdf41276f953ecc482df858408c9ff0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__dnnl__graph__api__status.html#gadf0aa6dbce815494117ab7f44ffb598c">status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1graph.html#a1cdf41276f953ecc482df858408c9ff0">add_op</a> (const <a class="el" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;<a class="el" href="classdnnl_1_1graph_1_1op.html">op</a>, bool allow_exception=true)</td></tr>
<tr class="memdesc:a1cdf41276f953ecc482df858408c9ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an op into the graph to construct a computational DAG.  <a href="classdnnl_1_1graph_1_1graph.html#a1cdf41276f953ecc482df858408c9ff0">More...</a><br /></td></tr>
<tr class="separator:a1cdf41276f953ecc482df858408c9ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a116d3552e3b0e6c739a1564329bde014"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdnnl_1_1graph_1_1partition.html">partition</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1graph.html#a116d3552e3b0e6c739a1564329bde014">get_partitions</a> (<a class="el" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3c">partition::policy</a> policy=<a class="el" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3ca051de32597041e41f73b97d61c67a13b">partition::policy::fusion</a>)</td></tr>
<tr class="memdesc:a116d3552e3b0e6c739a1564329bde014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets filtered partitions from a graph.  <a href="classdnnl_1_1graph_1_1graph.html#a116d3552e3b0e6c739a1564329bde014">More...</a><br /></td></tr>
<tr class="separator:a116d3552e3b0e6c739a1564329bde014"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A graph object. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="afcaee2f61d1dbfbe8d3399c10a930c28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcaee2f61d1dbfbe8d3399c10a930c28">&#9670;&nbsp;</a></span>fpmath_mode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classdnnl_1_1graph_1_1graph.html#afcaee2f61d1dbfbe8d3399c10a930c28">dnnl::graph::graph::fpmath_mode</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>floating-point math mode. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afcaee2f61d1dbfbe8d3399c10a930c28a2133fd717402a7966ee88d06f9e0b792"></a>strict&#160;</td><td class="fielddoc"><p>Default behavior, no downconversions allowed. </p>
</td></tr>
<tr><td class="fieldname"><a id="afcaee2f61d1dbfbe8d3399c10a930c28afe2904d9fb3b0f4a81c92b03dec11424"></a>bf16&#160;</td><td class="fielddoc"><p>Implicit f32-&gt;bf16 or f32-&gt;tf32 conversions allowed. </p>
</td></tr>
<tr><td class="fieldname"><a id="afcaee2f61d1dbfbe8d3399c10a930c28aa2449b6477c1fef79be4202906486876"></a>f16&#160;</td><td class="fielddoc"><p>Implicit f32-&gt;f16 or f32-&gt;tf32 conversions allowed. </p>
</td></tr>
<tr><td class="fieldname"><a id="afcaee2f61d1dbfbe8d3399c10a930c28a100b8cad7cf2a56f6df78f171f97a1ec"></a>any&#160;</td><td class="fielddoc"><p>Implicit f32-&gt;f16 or f32-&gt;bf16 or f32-&gt;tf32 conversions allowed. </p>
</td></tr>
<tr><td class="fieldname"><a id="afcaee2f61d1dbfbe8d3399c10a930c28ae00ad49f2e4f0fda1539ae29b2aaef57"></a>tf32&#160;</td><td class="fielddoc"><p>Implicit f32-&gt;tf32 conversions allowed. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab9989b31612c971d723b21bce61f3812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9989b31612c971d723b21bce61f3812">&#9670;&nbsp;</a></span>graph() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dnnl::graph::graph::graph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a>&#160;</td>
          <td class="paramname"><em>engine_kind</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a graph with an engine kind. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">engine_kind</td><td>Engine kind. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af26fca906c40d577ae129c635bc08039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af26fca906c40d577ae129c635bc08039">&#9670;&nbsp;</a></span>graph() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dnnl::graph::graph::graph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a>&#160;</td>
          <td class="paramname"><em>engine_kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdnnl_1_1graph_1_1graph.html#afcaee2f61d1dbfbe8d3399c10a930c28">fpmath_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new empty graph with an engine kind and a floating-point math mode. </p>
<p>All partitions returned from the graph will inherit the engine kind and floating-point math mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">engine_kind</td><td>Engine kind. </td></tr>
    <tr><td class="paramname">mode</td><td>Floating-point math mode. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1cdf41276f953ecc482df858408c9ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cdf41276f953ecc482df858408c9ff0">&#9670;&nbsp;</a></span>add_op()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__dnnl__graph__api__status.html#gadf0aa6dbce815494117ab7f44ffb598c">status</a> dnnl::graph::graph::add_op </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_exception</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds an op into the graph to construct a computational DAG. </p>
<p>The API will return failure if the operator has already been added to the graph or the operation cannot pass the schema check in the library (eg. input and output numbers and data types, the attributes of the operation, etc.).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">op</td><td>An operation to be added. </td></tr>
    <tr><td class="paramname">allow_exception</td><td>A flag indicating whether the method is allowed to throw an exception if it fails to add the op to the graph. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>#success or a status describing the error otherwise. </dd></dl>

</div>
</div>
<a id="a116d3552e3b0e6c739a1564329bde014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a116d3552e3b0e6c739a1564329bde014">&#9670;&nbsp;</a></span>get_partitions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classdnnl_1_1graph_1_1partition.html">partition</a>&gt; dnnl::graph::graph::get_partitions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3c">partition::policy</a>&#160;</td>
          <td class="paramname"><em>policy</em> = <code><a class="el" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3ca051de32597041e41f73b97d61c67a13b">partition::policy::fusion</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets filtered partitions from a graph. </p>
<p>Partitions will be claimed internally according to the capability of the library, the engine kind of the graph, and the policy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">policy</td><td>Partition policy, defaults to policy <a class="el" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3ca051de32597041e41f73b97d61c67a13b" title="Fusion policy returns partitions with typical post-op fusions, eg.">dnnl::graph::partition::policy::fusion</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector storing the partitions. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/oneapi/dnnl/<a class="el" href="dnnl__graph_8hpp_source.html">dnnl_graph.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="footer">
    <script>
        $('#top').prependTo($('#side-nav'));
    </script>
    <div class="footer-wrapper">
        <hr>
        <ul class="footer-links">
            <li><a href="legal_information.html">Legal information</a></li>
        </ul>
    </div>
</div>