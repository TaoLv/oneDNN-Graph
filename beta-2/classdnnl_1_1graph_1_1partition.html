<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>oneDNN Graph: dnnl::graph::partition Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script src="assets/mathjax/MathJax.js?config=TeX-AMS_CHTML,dnnl"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="assets/customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="assets/dnn.js"></script>
</head>
<body>
<div class="mobile-nav"><i id="nav-btn"></i><a href="index.html">oneAPI Deep Neural Network Library Graph API (oneDNN Graph)</a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname">
     <a href="index.html">
      <div id="full-name">oneAPI Deep Neural Network Library Graph API (oneDNN Graph)</div>
    </a>
   </div>
   <div id="projectbrief">Performance Library for DNN Graph Optimization</div>
   <div id="projectnumber">0.7.2</div>
  <div>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdnnl_1_1graph_1_1partition.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdnnl_1_1graph_1_1partition-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dnnl::graph::partition Class Reference<div class="ingroups"><a class="el" href="group__dnnl__graph__api.html">oneDNN Graph API</a> &raquo; <a class="el" href="group__dnnl__graph__api__partition.html">Partition</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A partition object.  
 <a href="classdnnl_1_1graph_1_1partition.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dnnl__graph_8hpp_source.html">dnnl_graph.hpp</a>&gt;</code></p>

<p>Inherits detail::partition_handle.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition_1_1compilation__context.html">compilation_context</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compilation Context.  <a href="classdnnl_1_1graph_1_1partition_1_1compilation__context.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a439c0490ea8ea85f2a12ec7b320a9a3c"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3c">policy</a> </td></tr>
<tr class="memdesc:a439c0490ea8ea85f2a12ec7b320a9a3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Policy specifications for partitioning.  <a href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3c">More...</a><br /></td></tr>
<tr class="separator:a439c0490ea8ea85f2a12ec7b320a9a3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b07bd28de793b8b41b39d06a566d314"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a8b07bd28de793b8b41b39d06a566d314">kind</a> </td></tr>
<tr class="memdesc:a8b07bd28de793b8b41b39d06a566d314"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partition kind.  <a href="classdnnl_1_1graph_1_1partition.html#a8b07bd28de793b8b41b39d06a566d314">More...</a><br /></td></tr>
<tr class="separator:a8b07bd28de793b8b41b39d06a566d314"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af74b276d676057a5faa482aaf368014b"><td class="memItemLeft" align="right" valign="top"><a id="af74b276d676057a5faa482aaf368014b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#af74b276d676057a5faa482aaf368014b">partition</a> ()=default</td></tr>
<tr class="memdesc:af74b276d676057a5faa482aaf368014b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. Constructs an empty partition object. <br /></td></tr>
<tr class="separator:af74b276d676057a5faa482aaf368014b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab688d46f8567fa69c1bebb5e351f0968"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#ab688d46f8567fa69c1bebb5e351f0968">partition</a> (<a class="el" href="group__dnnl__graph__api__partition.html#ga2fdc3001503c7b586d5fc16637872ce4">dnnl_graph_partition_t</a> p)</td></tr>
<tr class="memdesc:ab688d46f8567fa69c1bebb5e351f0968"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a partition object for C data.  <a href="classdnnl_1_1graph_1_1partition.html#ab688d46f8567fa69c1bebb5e351f0968">More...</a><br /></td></tr>
<tr class="separator:ab688d46f8567fa69c1bebb5e351f0968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617cb01f02a4f7fa459fb346f552cde9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a617cb01f02a4f7fa459fb346f552cde9">partition</a> (const <a class="el" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;aop, <a class="el" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a> ekind)</td></tr>
<tr class="memdesc:a617cb01f02a4f7fa459fb346f552cde9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new partition with a given operator and engine kind.  <a href="classdnnl_1_1graph_1_1partition.html#a617cb01f02a4f7fa459fb346f552cde9">More...</a><br /></td></tr>
<tr class="separator:a617cb01f02a4f7fa459fb346f552cde9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86965ac32334fa986d0c05344617668"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#ac86965ac32334fa986d0c05344617668">get_ops_num</a> () const</td></tr>
<tr class="memdesc:ac86965ac32334fa986d0c05344617668"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of operations contained in the partition.  <a href="classdnnl_1_1graph_1_1partition.html#ac86965ac32334fa986d0c05344617668">More...</a><br /></td></tr>
<tr class="separator:ac86965ac32334fa986d0c05344617668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53eceebd7c703a14920400e330b0aa1d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a53eceebd7c703a14920400e330b0aa1d">get_ops</a> () const</td></tr>
<tr class="memdesc:a53eceebd7c703a14920400e330b0aa1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all operation IDs contained in the partition.  <a href="classdnnl_1_1graph_1_1partition.html#a53eceebd7c703a14920400e330b0aa1d">More...</a><br /></td></tr>
<tr class="separator:a53eceebd7c703a14920400e330b0aa1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46aec3b49987b57ff4cce53a4fccaadd"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a46aec3b49987b57ff4cce53a4fccaadd">get_id</a> () const</td></tr>
<tr class="memdesc:a46aec3b49987b57ff4cce53a4fccaadd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the unique ID of the partition.  <a href="classdnnl_1_1graph_1_1partition.html#a46aec3b49987b57ff4cce53a4fccaadd">More...</a><br /></td></tr>
<tr class="separator:a46aec3b49987b57ff4cce53a4fccaadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a661ae3ff35ed2440c0a53ecb128787"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdnnl_1_1graph_1_1compiled__partition.html">compiled_partition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a8a661ae3ff35ed2440c0a53ecb128787">compile</a> (const std::vector&lt; <a class="el" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &gt; &amp;inputs, const std::vector&lt; <a class="el" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &gt; &amp;outputs, const <a class="el" href="classdnnl_1_1graph_1_1engine.html">engine</a> &amp;e, const <a class="el" href="classdnnl_1_1graph_1_1partition_1_1compilation__context.html">compilation_context</a> &amp;ctx={}) const</td></tr>
<tr class="memdesc:a8a661ae3ff35ed2440c0a53ecb128787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compiles a partition with given input and output logical tensors.  <a href="classdnnl_1_1graph_1_1partition.html#a8a661ae3ff35ed2440c0a53ecb128787">More...</a><br /></td></tr>
<tr class="separator:a8a661ae3ff35ed2440c0a53ecb128787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80536833d69e2660c496adbd9ec0aa3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#ad80536833d69e2660c496adbd9ec0aa3">is_supported</a> () const</td></tr>
<tr class="memdesc:ad80536833d69e2660c496adbd9ec0aa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the supporting status of a partition.  <a href="classdnnl_1_1graph_1_1partition.html#ad80536833d69e2660c496adbd9ec0aa3">More...</a><br /></td></tr>
<tr class="separator:ad80536833d69e2660c496adbd9ec0aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79139d8b8cd5c70e3a1a8444fa64e7a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#ac79139d8b8cd5c70e3a1a8444fa64e7a">get_in_ports</a> () const</td></tr>
<tr class="memdesc:ac79139d8b8cd5c70e3a1a8444fa64e7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of input logical tensors from the partition.  <a href="classdnnl_1_1graph_1_1partition.html#ac79139d8b8cd5c70e3a1a8444fa64e7a">More...</a><br /></td></tr>
<tr class="separator:ac79139d8b8cd5c70e3a1a8444fa64e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f7820908672c69ce9683ab071af952d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a0f7820908672c69ce9683ab071af952d">get_out_ports</a> () const</td></tr>
<tr class="memdesc:a0f7820908672c69ce9683ab071af952d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of output logical tensors from the partition.  <a href="classdnnl_1_1graph_1_1partition.html#a0f7820908672c69ce9683ab071af952d">More...</a><br /></td></tr>
<tr class="separator:a0f7820908672c69ce9683ab071af952d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606818ef956ac2956bbc74543a142abb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a606818ef956ac2956bbc74543a142abb">get_engine_kind</a> () const</td></tr>
<tr class="memdesc:a606818ef956ac2956bbc74543a142abb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the engine kind of the partition.  <a href="classdnnl_1_1graph_1_1partition.html#a606818ef956ac2956bbc74543a142abb">More...</a><br /></td></tr>
<tr class="separator:a606818ef956ac2956bbc74543a142abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed99ef8c560e2f946f7e731854f55034"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a8b07bd28de793b8b41b39d06a566d314">kind</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdnnl_1_1graph_1_1partition.html#aed99ef8c560e2f946f7e731854f55034">get_kind</a> () const</td></tr>
<tr class="memdesc:aed99ef8c560e2f946f7e731854f55034"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the kind of the partition.  <a href="classdnnl_1_1graph_1_1partition.html#aed99ef8c560e2f946f7e731854f55034">More...</a><br /></td></tr>
<tr class="separator:aed99ef8c560e2f946f7e731854f55034"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A partition object. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a439c0490ea8ea85f2a12ec7b320a9a3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a439c0490ea8ea85f2a12ec7b320a9a3c">&#9670;&nbsp;</a></span>policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classdnnl_1_1graph_1_1partition.html#a439c0490ea8ea85f2a12ec7b320a9a3c">dnnl::graph::partition::policy</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Policy specifications for partitioning. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a439c0490ea8ea85f2a12ec7b320a9a3ca2ffe4e77325d9a7152f7086ea7aa5114"></a>max&#160;</td><td class="fielddoc"><p>Max policy is to be defined. </p>
<p>The library intends to deliver best optimization and larger partition with max policy. It also means users may lose fine-grained control the operations in the partition. Currently, max policy has the same effect as fusion policy. </p>
</td></tr>
<tr><td class="fieldname"><a id="a439c0490ea8ea85f2a12ec7b320a9a3ca051de32597041e41f73b97d61c67a13b"></a>fusion&#160;</td><td class="fielddoc"><p>Fusion policy returns partitions with typical post-op fusions, eg. </p>
<p>Convolution + ReLU or other element-wise operations or a chian of post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a439c0490ea8ea85f2a12ec7b320a9a3caad42f6697b035b7580e4fef93be20b4d"></a>debug&#160;</td><td class="fielddoc"><p>Debug policy doesn't not apply any fusions. </p>
<p>It returns partitions with single operations in each partition. The policy is useful when users notice any bug or correctness issue in max policy or fusion policy. </p>
</td></tr>
</table>

</div>
</div>
<a id="a8b07bd28de793b8b41b39d06a566d314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b07bd28de793b8b41b39d06a566d314">&#9670;&nbsp;</a></span>kind</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classdnnl_1_1graph_1_1partition.html#a8b07bd28de793b8b41b39d06a566d314">dnnl::graph::partition::kind</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Partition kind. </p>
<p>It defines the basic structure of the subgraph contained in a partition. For example, kind <a class="el" href="classdnnl_1_1graph_1_1partition.html#a8b07bd28de793b8b41b39d06a566d314a6c0f76ff2c7e6febf3996e1878e000ff" title="The partition contains a Convolution and its post-ops.">dnnl::graph::partition::kind::convolution_post_ops</a> indicates the partition contains one Convolution and its post-ops. But the operation kind of the post-ops are not specified. Partition's kind is decided by the library internally and can be queried from a partition. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314af31ee5e3824f1f5e5d206bdf3029f22b"></a>undef&#160;</td><td class="fielddoc"><p>The partition's kind is not defined. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a6c0f76ff2c7e6febf3996e1878e000ff"></a>convolution_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a Convolution and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314ac67dd5f5fcecdcd1810df45971b8fc76"></a>convtranspose_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a ConvTranspose and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314abccf7183acf87532934a061c4e8296c5"></a>interpolate_post_ops&#160;</td><td class="fielddoc"><p>The partition contains an Interpolate and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a22b507aebb787350537729dc01d1c06a"></a>matmul_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a MatMul and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314ae7054567267914bb81439c9547745dfb"></a>reduction_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a Reduction and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a1798f11d6ba7ccf6051aa14cc739b249"></a>unary_post_ops&#160;</td><td class="fielddoc"><p>The partition contains an Unary op and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a086df73f70eace9dac91211dab09989c"></a>binary_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a Binary op and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a02068b56656269313f42d3e07034c497"></a>pooling_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a Pooling op (AvgPool or MaxPool) and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a68d6942756187dea039e6262ef1fc6d3"></a>batch_norm_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a BatchNorm op and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a0fbe43e052ee9e94bfb3e09db238a512"></a>misc_post_ops&#160;</td><td class="fielddoc"><p>Other partitions based on post-ops but not specified by above kinds. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a640de6110cd644909318df17174ec928"></a>quantized_convolution_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a quantized version of Convolution and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a86f1efc2668acfd01d73f4350abce5b1"></a>quantized_convtranspose_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a quantized version of ConvTranspose and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a674e85bd40c6642f177d86336cec0a07"></a>quantized_matmul_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a quantized version of MatMul and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314aa551b07a1dd851cf38fcf945a82e679b"></a>quantized_unary_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a quantized version of Unary op and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314ace3f47bb0abc695711aeab6d352ae296"></a>quantized_pooling_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a quantized version of Pooling op and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a22a18732aa1d43222cbf3ebb6b7ec8d9"></a>misc_quantized_post_ops&#160;</td><td class="fielddoc"><p>Other partitions based quantization and post-ops but not specified by above kinds. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314ad403636897ae51ef859ec8dd44dd786d"></a>convolution_backprop_post_ops&#160;</td><td class="fielddoc"><p>The partition contains a Convolution backward op and its post-ops. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314adac8c9e6ec0efe64569e77030a62afdc"></a>mha&#160;</td><td class="fielddoc"><p>The partition contains a variant of Multi-head Attention. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a6a20507c5f69d5b8867fca69fe848540"></a>mlp&#160;</td><td class="fielddoc"><p>The partition contains a variant of Multi-layer Perceptron. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a6c66ec7307768edb2e914a14f6072469"></a>quantized_mha&#160;</td><td class="fielddoc"><p>The partition contains a variant of quantized MHA. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a9ef47e53fcf11c8daad6d1042cb11330"></a>quantized_mlp&#160;</td><td class="fielddoc"><p>The partition contains a variant of quantized MLP. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314a3e8753f91fe7f13f72b7f3eebc1a85ef"></a>residual_conv_blocks&#160;</td><td class="fielddoc"><p>The partition contains a variant of residual convolutional block. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8b07bd28de793b8b41b39d06a566d314aaac60bbe2319d0043086d43fdc84dba9"></a>quantized_residual_conv_blocks&#160;</td><td class="fielddoc"><p>The partition contains a variant of quantized version of residual convolutional block. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab688d46f8567fa69c1bebb5e351f0968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab688d46f8567fa69c1bebb5e351f0968">&#9670;&nbsp;</a></span>partition() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dnnl::graph::partition::partition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__dnnl__graph__api__partition.html#ga2fdc3001503c7b586d5fc16637872ce4">dnnl_graph_partition_t</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a partition object for C data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>A raw pointer to the C API handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a617cb01f02a4f7fa459fb346f552cde9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a617cb01f02a4f7fa459fb346f552cde9">&#9670;&nbsp;</a></span>partition() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dnnl::graph::partition::partition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdnnl_1_1graph_1_1op.html">op</a> &amp;&#160;</td>
          <td class="paramname"><em>aop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a>&#160;</td>
          <td class="paramname"><em>ekind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new partition with a given operator and engine kind. </p>
<p>The API is used to create a partition from an operation directly without creating the graph and calling <code>get_partitions()</code>. The output partition contains only one operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aop</td><td>An operation used to create the partition. </td></tr>
    <tr><td class="paramname">ekind</td><td>Engine kind. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac86965ac32334fa986d0c05344617668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac86965ac32334fa986d0c05344617668">&#9670;&nbsp;</a></span>get_ops_num()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t dnnl::graph::partition::get_ops_num </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of operations contained in the partition. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of operations. </dd></dl>

</div>
</div>
<a id="a53eceebd7c703a14920400e330b0aa1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53eceebd7c703a14920400e330b0aa1d">&#9670;&nbsp;</a></span>get_ops()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;size_t&gt; dnnl::graph::partition::get_ops </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns all operation IDs contained in the partition. </p>
<dl class="section return"><dt>Returns</dt><dd>An unordered set of operation IDs. </dd></dl>

</div>
</div>
<a id="a46aec3b49987b57ff4cce53a4fccaadd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46aec3b49987b57ff4cce53a4fccaadd">&#9670;&nbsp;</a></span>get_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t dnnl::graph::partition::get_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the unique ID of the partition. </p>
<p>Partition ID is generated by the library internally. The ID can be used for debugging purpose or verbose.</p>
<dl class="section return"><dt>Returns</dt><dd>ID of the partition. </dd></dl>

</div>
</div>
<a id="a8a661ae3ff35ed2440c0a53ecb128787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a661ae3ff35ed2440c0a53ecb128787">&#9670;&nbsp;</a></span>compile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdnnl_1_1graph_1_1compiled__partition.html">compiled_partition</a> dnnl::graph::partition::compile </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdnnl_1_1graph_1_1engine.html">engine</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdnnl_1_1graph_1_1partition_1_1compilation__context.html">compilation_context</a> &amp;&#160;</td>
          <td class="paramname"><em>ctx</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compiles a partition with given input and output logical tensors. </p>
<p>The output logical tensors can contain unknown dimensions. For this case, the compilation will deduce the output shapes according to input shapes. The output logical tensors can also have layout type <code>any</code>. The compilation will choose the optimal layout for output tensors. The optimal layout will be represented as an opaque layout ID saved in the output logical tensor. Compilation context may contain more information useful for compiling a partition. The library can still succeed to compile if a context is empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputs</td><td>A list of input logical tensors. </td></tr>
    <tr><td class="paramname">outputs</td><td>A list of output logical tensors. </td></tr>
    <tr><td class="paramname">e</td><td>The engine used to compile the partition. </td></tr>
    <tr><td class="paramname">ctx</td><td>Context information used to compile the partition </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A compiled partition. </dd></dl>

</div>
</div>
<a id="ad80536833d69e2660c496adbd9ec0aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad80536833d69e2660c496adbd9ec0aa3">&#9670;&nbsp;</a></span>is_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dnnl::graph::partition::is_supported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the supporting status of a partition. </p>
<p>Some operations may not be supported by the library under certain circumstances. During partitioning stage, unsupported partitions will be returned to users with each containing an unsupported operation. Users should check the supporting status of a partition before transforming the computation graph or compiling the partition.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if this partition is supported or <code>false</code> if this partition isn't supported by the library </dd></dl>

</div>
</div>
<a id="ac79139d8b8cd5c70e3a1a8444fa64e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac79139d8b8cd5c70e3a1a8444fa64e7a">&#9670;&nbsp;</a></span>get_in_ports()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a>&gt; dnnl::graph::partition::get_in_ports </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of input logical tensors from the partition. </p>
<dl class="section return"><dt>Returns</dt><dd>A list of input logical tensors. </dd></dl>

</div>
</div>
<a id="a0f7820908672c69ce9683ab071af952d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f7820908672c69ce9683ab071af952d">&#9670;&nbsp;</a></span>get_out_ports()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classdnnl_1_1graph_1_1logical__tensor.html">logical_tensor</a>&gt; dnnl::graph::partition::get_out_ports </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of output logical tensors from the partition. </p>
<dl class="section return"><dt>Returns</dt><dd>A list of output logical tensor. </dd></dl>

</div>
</div>
<a id="a606818ef956ac2956bbc74543a142abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606818ef956ac2956bbc74543a142abb">&#9670;&nbsp;</a></span>get_engine_kind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdnnl_1_1graph_1_1engine.html#a425168b38184f5d22b9eebfb3193b40e">engine::kind</a> dnnl::graph::partition::get_engine_kind </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the engine kind of the partition. </p>
<dl class="section return"><dt>Returns</dt><dd>The engine kind. </dd></dl>

</div>
</div>
<a id="aed99ef8c560e2f946f7e731854f55034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed99ef8c560e2f946f7e731854f55034">&#9670;&nbsp;</a></span>get_kind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdnnl_1_1graph_1_1partition.html#a8b07bd28de793b8b41b39d06a566d314">kind</a> dnnl::graph::partition::get_kind </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the kind of the partition. </p>
<dl class="section return"><dt>Returns</dt><dd>The partition kind. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/oneapi/dnnl/<a class="el" href="dnnl__graph_8hpp_source.html">dnnl_graph.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="footer">
    <script>
        $('#top').prependTo($('#side-nav'));
    </script>
    <div class="footer-wrapper">
        <hr>
        <ul class="footer-links">
            <li><a href="legal_information.html">Legal information</a></li>
        </ul>
    </div>
</div>