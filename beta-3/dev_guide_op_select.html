<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>oneDNN Graph: Select</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script src="assets/mathjax/MathJax.js?config=TeX-AMS_CHTML,dnnl"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="assets/customdoxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="assets/dnn.js"></script>
</head>
<body>
<div class="mobile-nav"><i id="nav-btn"></i><a href="index.html">oneAPI Deep Neural Network Library Graph API (oneDNN Graph)</a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
   <div id="projectname">
     <a href="index.html">
      <div id="full-name">oneAPI Deep Neural Network Library Graph API (oneDNN Graph)</div>
    </a>
   </div>
   <div id="projectbrief">Performance Library for DNN Graph Optimization</div>
   <div id="projectnumber">0.8.1</div>
  <div>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dev_guide_op_select.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Select </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_doc_operations_Select"></a> <b>Versioned name</b>: <em>Select-1</em></p>
<p><b>Category</b>: <em>Condition</em></p>
<p><b>Short description</b>: <em>Select</em> returns a tensor filled with the elements from the second or the third input, depending on the condition (the first input) value.</p>
<h1><a class="anchor" id="autotoc_md271"></a>
Detailed description</h1>
<p><em>Select</em> takes elements from <code>then</code> input tensor or the <code>else</code> input tensor based on a condition mask provided in the first input <code>cond</code>. Before performing selection, input tensors <code>then</code> and <code>else</code> are broadcasted to each other if their shapes are different and <code>auto_broadcast</code> attributes is not <code>none</code>. Then the cond tensor is one-way broadcasted to the resulting shape of broadcasted <code>then</code> and <code>else</code>. Broadcasting is performed according to <code>auto_broadcast</code> value.</p>
<p>\( o_{i} = cond_{i} ? then_{i} : else_{i} \)</p>
<h1><a class="anchor" id="autotoc_md272"></a>
Broadcasting rules</h1>
<p>If auto_broadcast attribute is not none, select operation takes a two-step broadcast before performing selection:</p>
<ul>
<li><b>Step 1</b>: input tensors then and else are broadcasted to each other if their shapes are different</li>
<li><b>Step 2</b>: then the cond tensor will be one-way broadcasted to the resulting shape of broadcasted then and else. To be more specific, we align the two shapes to the right and compare them from right to left. Each dimension should be either a common length or the dimension of cond should be 1.</li>
<li><b>example</b>:<ul>
<li>cond={4, 5}, output_shape={2, 3, 4, 5} =&gt; result = {2, 3, 4, 5}</li>
<li>cond={3, 1, 5}, output_shape={2, 3, 4, 5} =&gt; result = {2, 3, 4, 5}</li>
<li>cond={3,5}, output_shape={2, 3, 4, 5} =&gt; result = invalid_shape</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md273"></a>
Attributes</h1>
<ul>
<li><em>auto_broadcast</em><ul>
<li><b>Description</b>: specifies rules used for auto-broadcasting of input tensors.</li>
<li><b>Range of values</b>:<ul>
<li><em>none</em> - no auto-broadcasting is allowed, all input shapes should match</li>
<li><p class="startli"><em>numpy</em> - numpy broadcasting rules, aligned with ONNX Broadcasting. Description is available in <code>ONNX docs &lt;<a href="https://github.com/onnx/onnx/blob/master/docs/Broadcasting.md">https://github.com/onnx/onnx/blob/master/docs/Broadcasting.md</a>&gt;</code>__.</p>
<p class="startli"><b>Notion</b>: the broadcasting here includes two different steps, multi-directional and uni-directional respectively. <b>numpy</b> here only refers to the first multi-directional step. Please refer to the broadcasting rules section for more details for the second step.</p>
</li>
</ul>
</li>
<li><b>Type</b>: string</li>
<li><b>Default value</b>: <em>numpy</em></li>
<li><b>Required</b>: <em>no</em></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md274"></a>
Inputs</h1>
<ul>
<li><b>1</b>: <code>cond</code> - tensor with selection mask of type boolean. <b>Required.</b><ul>
<li><b>Type</b>: T1</li>
</ul>
</li>
<li><b>2</b>: <code>then</code> - the tensor with elements to take where the corresponding element in <code>cond</code> is true. <b>Required.</b><ul>
<li><b>Type</b>: T2</li>
</ul>
</li>
<li><b>3</b>: <code>else</code> - the tensor with elements to take where the corresponding element in <code>cond</code> is false. <b>Required.</b><ul>
<li><b>Type</b>: T2</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md275"></a>
Outputs</h1>
<ul>
<li><b>1</b>: <code>output</code> - blended output tensor that is tailored from values of inputs tensors <code>then</code> and <code>else</code> based on <code>cond</code> and broadcasting rules.<ul>
<li><b>Type</b>: T2</li>
</ul>
</li>
</ul>
<p><b>Types</b>:</p>
<ul>
<li><b>T1</b>: boolean.</li>
<li><b>T2</b>: f32, f16, bf16.</li>
<li><b>Note</b>: <code>else</code> and <code>then</code> tensors should have the same data type denoted by T2. <code>cond</code> tensor should be boolean data type denoted by T1. The output tensor has the same data type of elements as <code>then</code> and <code>else</code>. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="footer">
    <script>
        $('#top').prependTo($('#side-nav'));
    </script>
    <div class="footer-wrapper">
        <hr>
        <ul class="footer-links">
            <li><a href="legal_information.html">Legal information</a></li>
        </ul>
    </div>
</div>